(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var Be=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Af(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Mf(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var s=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return e[n]}})}),r}var Uu={exports:{}},si={},$u={exports:{}},F={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zn=Symbol.for("react.element"),If=Symbol.for("react.portal"),Rf=Symbol.for("react.fragment"),Uf=Symbol.for("react.strict_mode"),$f=Symbol.for("react.profiler"),Df=Symbol.for("react.provider"),zf=Symbol.for("react.context"),Ff=Symbol.for("react.forward_ref"),Bf=Symbol.for("react.suspense"),Vf=Symbol.for("react.memo"),qf=Symbol.for("react.lazy"),la=Symbol.iterator;function Wf(e){return e===null||typeof e!="object"?null:(e=la&&e[la]||e["@@iterator"],typeof e=="function"?e:null)}var Du={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},zu=Object.assign,Fu={};function Fr(e,t,r){this.props=e,this.context=t,this.refs=Fu,this.updater=r||Du}Fr.prototype.isReactComponent={};Fr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Fr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Bu(){}Bu.prototype=Fr.prototype;function ll(e,t,r){this.props=e,this.context=t,this.refs=Fu,this.updater=r||Du}var al=ll.prototype=new Bu;al.constructor=ll;zu(al,Fr.prototype);al.isPureReactComponent=!0;var aa=Array.isArray,Vu=Object.prototype.hasOwnProperty,ul={current:null},qu={key:!0,ref:!0,__self:!0,__source:!0};function Wu(e,t,r){var n,s={},i=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)Vu.call(t,n)&&!qu.hasOwnProperty(n)&&(s[n]=t[n]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var a=Array(l),u=0;u<l;u++)a[u]=arguments[u+2];s.children=a}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:zn,type:e,key:i,ref:o,props:s,_owner:ul.current}}function Hf(e,t){return{$$typeof:zn,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function cl(e){return typeof e=="object"&&e!==null&&e.$$typeof===zn}function Kf(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var ua=/\/+/g;function ji(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Kf(""+e.key):t.toString(36)}function vs(e,t,r,n,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case zn:case If:o=!0}}if(o)return o=e,s=s(o),e=n===""?"."+ji(o,0):n,aa(s)?(r="",e!=null&&(r=e.replace(ua,"$&/")+"/"),vs(s,t,r,"",function(u){return u})):s!=null&&(cl(s)&&(s=Hf(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(ua,"$&/")+"/")+e)),t.push(s)),1;if(o=0,n=n===""?".":n+":",aa(e))for(var l=0;l<e.length;l++){i=e[l];var a=n+ji(i,l);o+=vs(i,t,r,a,s)}else if(a=Wf(e),typeof a=="function")for(e=a.call(e),l=0;!(i=e.next()).done;)i=i.value,a=n+ji(i,l++),o+=vs(i,t,r,a,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Qn(e,t,r){if(e==null)return e;var n=[],s=0;return vs(e,n,"","",function(i){return t.call(r,i,s++)}),n}function Gf(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ke={current:null},ys={transition:null},Qf={ReactCurrentDispatcher:ke,ReactCurrentBatchConfig:ys,ReactCurrentOwner:ul};function Hu(){throw Error("act(...) is not supported in production builds of React.")}F.Children={map:Qn,forEach:function(e,t,r){Qn(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Qn(e,function(){t++}),t},toArray:function(e){return Qn(e,function(t){return t})||[]},only:function(e){if(!cl(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};F.Component=Fr;F.Fragment=Rf;F.Profiler=$f;F.PureComponent=ll;F.StrictMode=Uf;F.Suspense=Bf;F.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Qf;F.act=Hu;F.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=zu({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=ul.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(a in t)Vu.call(t,a)&&!qu.hasOwnProperty(a)&&(n[a]=t[a]===void 0&&l!==void 0?l[a]:t[a])}var a=arguments.length-2;if(a===1)n.children=r;else if(1<a){l=Array(a);for(var u=0;u<a;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:zn,type:e.type,key:s,ref:i,props:n,_owner:o}};F.createContext=function(e){return e={$$typeof:zf,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Df,_context:e},e.Consumer=e};F.createElement=Wu;F.createFactory=function(e){var t=Wu.bind(null,e);return t.type=e,t};F.createRef=function(){return{current:null}};F.forwardRef=function(e){return{$$typeof:Ff,render:e}};F.isValidElement=cl;F.lazy=function(e){return{$$typeof:qf,_payload:{_status:-1,_result:e},_init:Gf}};F.memo=function(e,t){return{$$typeof:Vf,type:e,compare:t===void 0?null:t}};F.startTransition=function(e){var t=ys.transition;ys.transition={};try{e()}finally{ys.transition=t}};F.unstable_act=Hu;F.useCallback=function(e,t){return ke.current.useCallback(e,t)};F.useContext=function(e){return ke.current.useContext(e)};F.useDebugValue=function(){};F.useDeferredValue=function(e){return ke.current.useDeferredValue(e)};F.useEffect=function(e,t){return ke.current.useEffect(e,t)};F.useId=function(){return ke.current.useId()};F.useImperativeHandle=function(e,t,r){return ke.current.useImperativeHandle(e,t,r)};F.useInsertionEffect=function(e,t){return ke.current.useInsertionEffect(e,t)};F.useLayoutEffect=function(e,t){return ke.current.useLayoutEffect(e,t)};F.useMemo=function(e,t){return ke.current.useMemo(e,t)};F.useReducer=function(e,t,r){return ke.current.useReducer(e,t,r)};F.useRef=function(e){return ke.current.useRef(e)};F.useState=function(e){return ke.current.useState(e)};F.useSyncExternalStore=function(e,t,r){return ke.current.useSyncExternalStore(e,t,r)};F.useTransition=function(){return ke.current.useTransition()};F.version="18.3.1";$u.exports=F;var M=$u.exports;const Ku=Af(M);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jf=M,Yf=Symbol.for("react.element"),Xf=Symbol.for("react.fragment"),Zf=Object.prototype.hasOwnProperty,eh=Jf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,th={key:!0,ref:!0,__self:!0,__source:!0};function Gu(e,t,r){var n,s={},i=null,o=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)Zf.call(t,n)&&!th.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:Yf,type:e,key:i,ref:o,props:s,_owner:eh.current}}si.Fragment=Xf;si.jsx=Gu;si.jsxs=Gu;Uu.exports=si;var c=Uu.exports,io={},Qu={exports:{}},Re={},Ju={exports:{}},Yu={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(_,k){var O=_.length;_.push(k);e:for(;0<O;){var I=O-1>>>1,D=_[I];if(0<s(D,k))_[I]=k,_[O]=D,O=I;else break e}}function r(_){return _.length===0?null:_[0]}function n(_){if(_.length===0)return null;var k=_[0],O=_.pop();if(O!==k){_[0]=O;e:for(var I=0,D=_.length,q=D>>>1;I<q;){var et=2*(I+1)-1,Hr=_[et],qt=et+1,Gn=_[qt];if(0>s(Hr,O))qt<D&&0>s(Gn,Hr)?(_[I]=Gn,_[qt]=O,I=qt):(_[I]=Hr,_[et]=O,I=et);else if(qt<D&&0>s(Gn,O))_[I]=Gn,_[qt]=O,I=qt;else break e}}return k}function s(_,k){var O=_.sortIndex-k.sortIndex;return O!==0?O:_.id-k.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var a=[],u=[],d=1,f=null,g=3,v=!1,w=!1,S=!1,j=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function h(_){for(var k=r(u);k!==null;){if(k.callback===null)n(u);else if(k.startTime<=_)n(u),k.sortIndex=k.expirationTime,t(a,k);else break;k=r(u)}}function y(_){if(S=!1,h(_),!w)if(r(a)!==null)w=!0,le(C);else{var k=r(u);k!==null&&Y(y,k.startTime-_)}}function C(_,k){w=!1,S&&(S=!1,m(T),T=-1),v=!0;var O=g;try{for(h(k),f=r(a);f!==null&&(!(f.expirationTime>k)||_&&!ne());){var I=f.callback;if(typeof I=="function"){f.callback=null,g=f.priorityLevel;var D=I(f.expirationTime<=k);k=e.unstable_now(),typeof D=="function"?f.callback=D:f===r(a)&&n(a),h(k)}else n(a);f=r(a)}if(f!==null)var q=!0;else{var et=r(u);et!==null&&Y(y,et.startTime-k),q=!1}return q}finally{f=null,g=O,v=!1}}var b=!1,N=null,T=-1,K=5,U=-1;function ne(){return!(e.unstable_now()-U<K)}function lt(){if(N!==null){var _=e.unstable_now();U=_;var k=!0;try{k=N(!0,_)}finally{k?de():(b=!1,N=null)}}else b=!1}var de;if(typeof p=="function")de=function(){p(lt)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,$=L.port2;L.port1.onmessage=lt,de=function(){$.postMessage(null)}}else de=function(){j(lt,0)};function le(_){N=_,b||(b=!0,de())}function Y(_,k){T=j(function(){_(e.unstable_now())},k)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(_){_.callback=null},e.unstable_continueExecution=function(){w||v||(w=!0,le(C))},e.unstable_forceFrameRate=function(_){0>_||125<_?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):K=0<_?Math.floor(1e3/_):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_getFirstCallbackNode=function(){return r(a)},e.unstable_next=function(_){switch(g){case 1:case 2:case 3:var k=3;break;default:k=g}var O=g;g=k;try{return _()}finally{g=O}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(_,k){switch(_){case 1:case 2:case 3:case 4:case 5:break;default:_=3}var O=g;g=_;try{return k()}finally{g=O}},e.unstable_scheduleCallback=function(_,k,O){var I=e.unstable_now();switch(typeof O=="object"&&O!==null?(O=O.delay,O=typeof O=="number"&&0<O?I+O:I):O=I,_){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=O+D,_={id:d++,callback:k,priorityLevel:_,startTime:O,expirationTime:D,sortIndex:-1},O>I?(_.sortIndex=O,t(u,_),r(a)===null&&_===r(u)&&(S?(m(T),T=-1):S=!0,Y(y,O-I))):(_.sortIndex=D,t(a,_),w||v||(w=!0,le(C))),_},e.unstable_shouldYield=ne,e.unstable_wrapCallback=function(_){var k=g;return function(){var O=g;g=k;try{return _.apply(this,arguments)}finally{g=O}}}})(Yu);Ju.exports=Yu;var rh=Ju.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nh=M,Ie=rh;function E(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Xu=new Set,xn={};function or(e,t){Ar(e,t),Ar(e+"Capture",t)}function Ar(e,t){for(xn[e]=t,e=0;e<t.length;e++)Xu.add(t[e])}var mt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),oo=Object.prototype.hasOwnProperty,sh=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ca={},da={};function ih(e){return oo.call(da,e)?!0:oo.call(ca,e)?!1:sh.test(e)?da[e]=!0:(ca[e]=!0,!1)}function oh(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function lh(e,t,r,n){if(t===null||typeof t>"u"||oh(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ce(e,t,r,n,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var pe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){pe[e]=new Ce(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];pe[t]=new Ce(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){pe[e]=new Ce(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){pe[e]=new Ce(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){pe[e]=new Ce(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){pe[e]=new Ce(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){pe[e]=new Ce(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){pe[e]=new Ce(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){pe[e]=new Ce(e,5,!1,e.toLowerCase(),null,!1,!1)});var dl=/[\-:]([a-z])/g;function fl(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(dl,fl);pe[t]=new Ce(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(dl,fl);pe[t]=new Ce(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(dl,fl);pe[t]=new Ce(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){pe[e]=new Ce(e,1,!1,e.toLowerCase(),null,!1,!1)});pe.xlinkHref=new Ce("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){pe[e]=new Ce(e,1,!1,e.toLowerCase(),null,!0,!0)});function hl(e,t,r,n){var s=pe.hasOwnProperty(t)?pe[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(lh(t,r,s,n)&&(r=null),n||s===null?ih(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var wt=nh.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Jn=Symbol.for("react.element"),mr=Symbol.for("react.portal"),gr=Symbol.for("react.fragment"),pl=Symbol.for("react.strict_mode"),lo=Symbol.for("react.profiler"),Zu=Symbol.for("react.provider"),ec=Symbol.for("react.context"),ml=Symbol.for("react.forward_ref"),ao=Symbol.for("react.suspense"),uo=Symbol.for("react.suspense_list"),gl=Symbol.for("react.memo"),St=Symbol.for("react.lazy"),tc=Symbol.for("react.offscreen"),fa=Symbol.iterator;function Kr(e){return e===null||typeof e!="object"?null:(e=fa&&e[fa]||e["@@iterator"],typeof e=="function"?e:null)}var ee=Object.assign,Ni;function rn(e){if(Ni===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Ni=t&&t[1]||""}return`
`+Ni+e}var Pi=!1;function Oi(e,t){if(!e||Pi)return"";Pi=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=n.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var a=`
`+s[o].replace(" at new "," at ");return e.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",e.displayName)),a}while(1<=o&&0<=l);break}}}finally{Pi=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?rn(e):""}function ah(e){switch(e.tag){case 5:return rn(e.type);case 16:return rn("Lazy");case 13:return rn("Suspense");case 19:return rn("SuspenseList");case 0:case 2:case 15:return e=Oi(e.type,!1),e;case 11:return e=Oi(e.type.render,!1),e;case 1:return e=Oi(e.type,!0),e;default:return""}}function co(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case gr:return"Fragment";case mr:return"Portal";case lo:return"Profiler";case pl:return"StrictMode";case ao:return"Suspense";case uo:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case ec:return(e.displayName||"Context")+".Consumer";case Zu:return(e._context.displayName||"Context")+".Provider";case ml:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case gl:return t=e.displayName||null,t!==null?t:co(e.type)||"Memo";case St:t=e._payload,e=e._init;try{return co(e(t))}catch{}}return null}function uh(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return co(t);case 8:return t===pl?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function $t(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function rc(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function ch(e){var t=rc(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Yn(e){e._valueTracker||(e._valueTracker=ch(e))}function nc(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=rc(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Os(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function fo(e,t){var r=t.checked;return ee({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function ha(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=$t(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function sc(e,t){t=t.checked,t!=null&&hl(e,"checked",t,!1)}function ho(e,t){sc(e,t);var r=$t(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?po(e,t.type,r):t.hasOwnProperty("defaultValue")&&po(e,t.type,$t(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function pa(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function po(e,t,r){(t!=="number"||Os(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var nn=Array.isArray;function jr(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+$t(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function mo(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(E(91));return ee({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ma(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(E(92));if(nn(r)){if(1<r.length)throw Error(E(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:$t(r)}}function ic(e,t){var r=$t(t.value),n=$t(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function ga(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function oc(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function go(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?oc(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Xn,lc=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Xn=Xn||document.createElement("div"),Xn.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Xn.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Sn(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var an={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},dh=["Webkit","ms","Moz","O"];Object.keys(an).forEach(function(e){dh.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),an[t]=an[e]})});function ac(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||an.hasOwnProperty(e)&&an[e]?(""+t).trim():t+"px"}function uc(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=ac(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var fh=ee({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function vo(e,t){if(t){if(fh[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(E(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(E(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(E(61))}if(t.style!=null&&typeof t.style!="object")throw Error(E(62))}}function yo(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wo=null;function vl(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var _o=null,Nr=null,Pr=null;function va(e){if(e=Vn(e)){if(typeof _o!="function")throw Error(E(280));var t=e.stateNode;t&&(t=ui(t),_o(e.stateNode,e.type,t))}}function cc(e){Nr?Pr?Pr.push(e):Pr=[e]:Nr=e}function dc(){if(Nr){var e=Nr,t=Pr;if(Pr=Nr=null,va(e),t)for(e=0;e<t.length;e++)va(t[e])}}function fc(e,t){return e(t)}function hc(){}var Ti=!1;function pc(e,t,r){if(Ti)return e(t,r);Ti=!0;try{return fc(e,t,r)}finally{Ti=!1,(Nr!==null||Pr!==null)&&(hc(),dc())}}function kn(e,t){var r=e.stateNode;if(r===null)return null;var n=ui(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(E(231,t,typeof r));return r}var xo=!1;if(mt)try{var Gr={};Object.defineProperty(Gr,"passive",{get:function(){xo=!0}}),window.addEventListener("test",Gr,Gr),window.removeEventListener("test",Gr,Gr)}catch{xo=!1}function hh(e,t,r,n,s,i,o,l,a){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var un=!1,Ts=null,Ls=!1,So=null,ph={onError:function(e){un=!0,Ts=e}};function mh(e,t,r,n,s,i,o,l,a){un=!1,Ts=null,hh.apply(ph,arguments)}function gh(e,t,r,n,s,i,o,l,a){if(mh.apply(this,arguments),un){if(un){var u=Ts;un=!1,Ts=null}else throw Error(E(198));Ls||(Ls=!0,So=u)}}function lr(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function mc(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function ya(e){if(lr(e)!==e)throw Error(E(188))}function vh(e){var t=e.alternate;if(!t){if(t=lr(e),t===null)throw Error(E(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return ya(s),e;if(i===n)return ya(s),t;i=i.sibling}throw Error(E(188))}if(r.return!==n.return)r=s,n=i;else{for(var o=!1,l=s.child;l;){if(l===r){o=!0,r=s,n=i;break}if(l===n){o=!0,n=s,r=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===r){o=!0,r=i,n=s;break}if(l===n){o=!0,n=i,r=s;break}l=l.sibling}if(!o)throw Error(E(189))}}if(r.alternate!==n)throw Error(E(190))}if(r.tag!==3)throw Error(E(188));return r.stateNode.current===r?e:t}function gc(e){return e=vh(e),e!==null?vc(e):null}function vc(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=vc(e);if(t!==null)return t;e=e.sibling}return null}var yc=Ie.unstable_scheduleCallback,wa=Ie.unstable_cancelCallback,yh=Ie.unstable_shouldYield,wh=Ie.unstable_requestPaint,re=Ie.unstable_now,_h=Ie.unstable_getCurrentPriorityLevel,yl=Ie.unstable_ImmediatePriority,wc=Ie.unstable_UserBlockingPriority,As=Ie.unstable_NormalPriority,xh=Ie.unstable_LowPriority,_c=Ie.unstable_IdlePriority,ii=null,it=null;function Sh(e){if(it&&typeof it.onCommitFiberRoot=="function")try{it.onCommitFiberRoot(ii,e,void 0,(e.current.flags&128)===128)}catch{}}var Ye=Math.clz32?Math.clz32:Eh,kh=Math.log,Ch=Math.LN2;function Eh(e){return e>>>=0,e===0?32:31-(kh(e)/Ch|0)|0}var Zn=64,es=4194304;function sn(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ms(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,i=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~s;l!==0?n=sn(l):(i&=o,i!==0&&(n=sn(i)))}else o=r&~s,o!==0?n=sn(o):i!==0&&(n=sn(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Ye(t),s=1<<r,n|=e[r],t&=~s;return n}function bh(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function jh(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-Ye(i),l=1<<o,a=s[o];a===-1?(!(l&r)||l&n)&&(s[o]=bh(l,t)):a<=t&&(e.expiredLanes|=l),i&=~l}}function ko(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function xc(){var e=Zn;return Zn<<=1,!(Zn&4194240)&&(Zn=64),e}function Li(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Fn(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ye(t),e[t]=r}function Nh(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-Ye(r),i=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~i}}function wl(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Ye(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var V=0;function Sc(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var kc,_l,Cc,Ec,bc,Co=!1,ts=[],Ot=null,Tt=null,Lt=null,Cn=new Map,En=new Map,Et=[],Ph="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function _a(e,t){switch(e){case"focusin":case"focusout":Ot=null;break;case"dragenter":case"dragleave":Tt=null;break;case"mouseover":case"mouseout":Lt=null;break;case"pointerover":case"pointerout":Cn.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":En.delete(t.pointerId)}}function Qr(e,t,r,n,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},t!==null&&(t=Vn(t),t!==null&&_l(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function Oh(e,t,r,n,s){switch(t){case"focusin":return Ot=Qr(Ot,e,t,r,n,s),!0;case"dragenter":return Tt=Qr(Tt,e,t,r,n,s),!0;case"mouseover":return Lt=Qr(Lt,e,t,r,n,s),!0;case"pointerover":var i=s.pointerId;return Cn.set(i,Qr(Cn.get(i)||null,e,t,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,En.set(i,Qr(En.get(i)||null,e,t,r,n,s)),!0}return!1}function jc(e){var t=Jt(e.target);if(t!==null){var r=lr(t);if(r!==null){if(t=r.tag,t===13){if(t=mc(r),t!==null){e.blockedOn=t,bc(e.priority,function(){Cc(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ws(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Eo(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);wo=n,r.target.dispatchEvent(n),wo=null}else return t=Vn(r),t!==null&&_l(t),e.blockedOn=r,!1;t.shift()}return!0}function xa(e,t,r){ws(e)&&r.delete(t)}function Th(){Co=!1,Ot!==null&&ws(Ot)&&(Ot=null),Tt!==null&&ws(Tt)&&(Tt=null),Lt!==null&&ws(Lt)&&(Lt=null),Cn.forEach(xa),En.forEach(xa)}function Jr(e,t){e.blockedOn===t&&(e.blockedOn=null,Co||(Co=!0,Ie.unstable_scheduleCallback(Ie.unstable_NormalPriority,Th)))}function bn(e){function t(s){return Jr(s,e)}if(0<ts.length){Jr(ts[0],e);for(var r=1;r<ts.length;r++){var n=ts[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Ot!==null&&Jr(Ot,e),Tt!==null&&Jr(Tt,e),Lt!==null&&Jr(Lt,e),Cn.forEach(t),En.forEach(t),r=0;r<Et.length;r++)n=Et[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Et.length&&(r=Et[0],r.blockedOn===null);)jc(r),r.blockedOn===null&&Et.shift()}var Or=wt.ReactCurrentBatchConfig,Is=!0;function Lh(e,t,r,n){var s=V,i=Or.transition;Or.transition=null;try{V=1,xl(e,t,r,n)}finally{V=s,Or.transition=i}}function Ah(e,t,r,n){var s=V,i=Or.transition;Or.transition=null;try{V=4,xl(e,t,r,n)}finally{V=s,Or.transition=i}}function xl(e,t,r,n){if(Is){var s=Eo(e,t,r,n);if(s===null)Bi(e,t,n,Rs,r),_a(e,n);else if(Oh(s,e,t,r,n))n.stopPropagation();else if(_a(e,n),t&4&&-1<Ph.indexOf(e)){for(;s!==null;){var i=Vn(s);if(i!==null&&kc(i),i=Eo(e,t,r,n),i===null&&Bi(e,t,n,Rs,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else Bi(e,t,n,null,r)}}var Rs=null;function Eo(e,t,r,n){if(Rs=null,e=vl(n),e=Jt(e),e!==null)if(t=lr(e),t===null)e=null;else if(r=t.tag,r===13){if(e=mc(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Rs=e,null}function Nc(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(_h()){case yl:return 1;case wc:return 4;case As:case xh:return 16;case _c:return 536870912;default:return 16}default:return 16}}var Nt=null,Sl=null,_s=null;function Pc(){if(_s)return _s;var e,t=Sl,r=t.length,n,s="value"in Nt?Nt.value:Nt.textContent,i=s.length;for(e=0;e<r&&t[e]===s[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===s[i-n];n++);return _s=s.slice(e,1<n?1-n:void 0)}function xs(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function rs(){return!0}function Sa(){return!1}function Ue(e){function t(r,n,s,i,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?rs:Sa,this.isPropagationStopped=Sa,this}return ee(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=rs)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=rs)},persist:function(){},isPersistent:rs}),t}var Br={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},kl=Ue(Br),Bn=ee({},Br,{view:0,detail:0}),Mh=Ue(Bn),Ai,Mi,Yr,oi=ee({},Bn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cl,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Yr&&(Yr&&e.type==="mousemove"?(Ai=e.screenX-Yr.screenX,Mi=e.screenY-Yr.screenY):Mi=Ai=0,Yr=e),Ai)},movementY:function(e){return"movementY"in e?e.movementY:Mi}}),ka=Ue(oi),Ih=ee({},oi,{dataTransfer:0}),Rh=Ue(Ih),Uh=ee({},Bn,{relatedTarget:0}),Ii=Ue(Uh),$h=ee({},Br,{animationName:0,elapsedTime:0,pseudoElement:0}),Dh=Ue($h),zh=ee({},Br,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Fh=Ue(zh),Bh=ee({},Br,{data:0}),Ca=Ue(Bh),Vh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},qh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Wh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Hh(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Wh[e])?!!t[e]:!1}function Cl(){return Hh}var Kh=ee({},Bn,{key:function(e){if(e.key){var t=Vh[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=xs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?qh[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cl,charCode:function(e){return e.type==="keypress"?xs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?xs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Gh=Ue(Kh),Qh=ee({},oi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ea=Ue(Qh),Jh=ee({},Bn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cl}),Yh=Ue(Jh),Xh=ee({},Br,{propertyName:0,elapsedTime:0,pseudoElement:0}),Zh=Ue(Xh),ep=ee({},oi,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),tp=Ue(ep),rp=[9,13,27,32],El=mt&&"CompositionEvent"in window,cn=null;mt&&"documentMode"in document&&(cn=document.documentMode);var np=mt&&"TextEvent"in window&&!cn,Oc=mt&&(!El||cn&&8<cn&&11>=cn),ba=" ",ja=!1;function Tc(e,t){switch(e){case"keyup":return rp.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Lc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var vr=!1;function sp(e,t){switch(e){case"compositionend":return Lc(t);case"keypress":return t.which!==32?null:(ja=!0,ba);case"textInput":return e=t.data,e===ba&&ja?null:e;default:return null}}function ip(e,t){if(vr)return e==="compositionend"||!El&&Tc(e,t)?(e=Pc(),_s=Sl=Nt=null,vr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Oc&&t.locale!=="ko"?null:t.data;default:return null}}var op={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Na(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!op[e.type]:t==="textarea"}function Ac(e,t,r,n){cc(n),t=Us(t,"onChange"),0<t.length&&(r=new kl("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var dn=null,jn=null;function lp(e){qc(e,0)}function li(e){var t=_r(e);if(nc(t))return e}function ap(e,t){if(e==="change")return t}var Mc=!1;if(mt){var Ri;if(mt){var Ui="oninput"in document;if(!Ui){var Pa=document.createElement("div");Pa.setAttribute("oninput","return;"),Ui=typeof Pa.oninput=="function"}Ri=Ui}else Ri=!1;Mc=Ri&&(!document.documentMode||9<document.documentMode)}function Oa(){dn&&(dn.detachEvent("onpropertychange",Ic),jn=dn=null)}function Ic(e){if(e.propertyName==="value"&&li(jn)){var t=[];Ac(t,jn,e,vl(e)),pc(lp,t)}}function up(e,t,r){e==="focusin"?(Oa(),dn=t,jn=r,dn.attachEvent("onpropertychange",Ic)):e==="focusout"&&Oa()}function cp(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return li(jn)}function dp(e,t){if(e==="click")return li(t)}function fp(e,t){if(e==="input"||e==="change")return li(t)}function hp(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ze=typeof Object.is=="function"?Object.is:hp;function Nn(e,t){if(Ze(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!oo.call(t,s)||!Ze(e[s],t[s]))return!1}return!0}function Ta(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function La(e,t){var r=Ta(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Ta(r)}}function Rc(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Rc(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Uc(){for(var e=window,t=Os();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Os(e.document)}return t}function bl(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function pp(e){var t=Uc(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Rc(r.ownerDocument.documentElement,r)){if(n!==null&&bl(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!e.extend&&i>n&&(s=n,n=i,i=s),s=La(r,i);var o=La(r,n);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mp=mt&&"documentMode"in document&&11>=document.documentMode,yr=null,bo=null,fn=null,jo=!1;function Aa(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;jo||yr==null||yr!==Os(n)||(n=yr,"selectionStart"in n&&bl(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),fn&&Nn(fn,n)||(fn=n,n=Us(bo,"onSelect"),0<n.length&&(t=new kl("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=yr)))}function ns(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var wr={animationend:ns("Animation","AnimationEnd"),animationiteration:ns("Animation","AnimationIteration"),animationstart:ns("Animation","AnimationStart"),transitionend:ns("Transition","TransitionEnd")},$i={},$c={};mt&&($c=document.createElement("div").style,"AnimationEvent"in window||(delete wr.animationend.animation,delete wr.animationiteration.animation,delete wr.animationstart.animation),"TransitionEvent"in window||delete wr.transitionend.transition);function ai(e){if($i[e])return $i[e];if(!wr[e])return e;var t=wr[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in $c)return $i[e]=t[r];return e}var Dc=ai("animationend"),zc=ai("animationiteration"),Fc=ai("animationstart"),Bc=ai("transitionend"),Vc=new Map,Ma="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function zt(e,t){Vc.set(e,t),or(t,[e])}for(var Di=0;Di<Ma.length;Di++){var zi=Ma[Di],gp=zi.toLowerCase(),vp=zi[0].toUpperCase()+zi.slice(1);zt(gp,"on"+vp)}zt(Dc,"onAnimationEnd");zt(zc,"onAnimationIteration");zt(Fc,"onAnimationStart");zt("dblclick","onDoubleClick");zt("focusin","onFocus");zt("focusout","onBlur");zt(Bc,"onTransitionEnd");Ar("onMouseEnter",["mouseout","mouseover"]);Ar("onMouseLeave",["mouseout","mouseover"]);Ar("onPointerEnter",["pointerout","pointerover"]);Ar("onPointerLeave",["pointerout","pointerover"]);or("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));or("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));or("onBeforeInput",["compositionend","keypress","textInput","paste"]);or("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));or("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));or("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var on="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),yp=new Set("cancel close invalid load scroll toggle".split(" ").concat(on));function Ia(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,gh(n,t,void 0,e),e.currentTarget=null}function qc(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],a=l.instance,u=l.currentTarget;if(l=l.listener,a!==i&&s.isPropagationStopped())break e;Ia(s,l,u),i=a}else for(o=0;o<n.length;o++){if(l=n[o],a=l.instance,u=l.currentTarget,l=l.listener,a!==i&&s.isPropagationStopped())break e;Ia(s,l,u),i=a}}}if(Ls)throw e=So,Ls=!1,So=null,e}function G(e,t){var r=t[Lo];r===void 0&&(r=t[Lo]=new Set);var n=e+"__bubble";r.has(n)||(Wc(t,e,2,!1),r.add(n))}function Fi(e,t,r){var n=0;t&&(n|=4),Wc(r,e,n,t)}var ss="_reactListening"+Math.random().toString(36).slice(2);function Pn(e){if(!e[ss]){e[ss]=!0,Xu.forEach(function(r){r!=="selectionchange"&&(yp.has(r)||Fi(r,!1,e),Fi(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ss]||(t[ss]=!0,Fi("selectionchange",!1,t))}}function Wc(e,t,r,n){switch(Nc(t)){case 1:var s=Lh;break;case 4:s=Ah;break;default:s=xl}r=s.bind(null,t,r,e),s=void 0,!xo||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function Bi(e,t,r,n,s){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var a=o.tag;if((a===3||a===4)&&(a=o.stateNode.containerInfo,a===s||a.nodeType===8&&a.parentNode===s))return;o=o.return}for(;l!==null;){if(o=Jt(l),o===null)return;if(a=o.tag,a===5||a===6){n=i=o;continue e}l=l.parentNode}}n=n.return}pc(function(){var u=i,d=vl(r),f=[];e:{var g=Vc.get(e);if(g!==void 0){var v=kl,w=e;switch(e){case"keypress":if(xs(r)===0)break e;case"keydown":case"keyup":v=Gh;break;case"focusin":w="focus",v=Ii;break;case"focusout":w="blur",v=Ii;break;case"beforeblur":case"afterblur":v=Ii;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=ka;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=Rh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=Yh;break;case Dc:case zc:case Fc:v=Dh;break;case Bc:v=Zh;break;case"scroll":v=Mh;break;case"wheel":v=tp;break;case"copy":case"cut":case"paste":v=Fh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=Ea}var S=(t&4)!==0,j=!S&&e==="scroll",m=S?g!==null?g+"Capture":null:g;S=[];for(var p=u,h;p!==null;){h=p;var y=h.stateNode;if(h.tag===5&&y!==null&&(h=y,m!==null&&(y=kn(p,m),y!=null&&S.push(On(p,y,h)))),j)break;p=p.return}0<S.length&&(g=new v(g,w,null,r,d),f.push({event:g,listeners:S}))}}if(!(t&7)){e:{if(g=e==="mouseover"||e==="pointerover",v=e==="mouseout"||e==="pointerout",g&&r!==wo&&(w=r.relatedTarget||r.fromElement)&&(Jt(w)||w[gt]))break e;if((v||g)&&(g=d.window===d?d:(g=d.ownerDocument)?g.defaultView||g.parentWindow:window,v?(w=r.relatedTarget||r.toElement,v=u,w=w?Jt(w):null,w!==null&&(j=lr(w),w!==j||w.tag!==5&&w.tag!==6)&&(w=null)):(v=null,w=u),v!==w)){if(S=ka,y="onMouseLeave",m="onMouseEnter",p="mouse",(e==="pointerout"||e==="pointerover")&&(S=Ea,y="onPointerLeave",m="onPointerEnter",p="pointer"),j=v==null?g:_r(v),h=w==null?g:_r(w),g=new S(y,p+"leave",v,r,d),g.target=j,g.relatedTarget=h,y=null,Jt(d)===u&&(S=new S(m,p+"enter",w,r,d),S.target=h,S.relatedTarget=j,y=S),j=y,v&&w)t:{for(S=v,m=w,p=0,h=S;h;h=ur(h))p++;for(h=0,y=m;y;y=ur(y))h++;for(;0<p-h;)S=ur(S),p--;for(;0<h-p;)m=ur(m),h--;for(;p--;){if(S===m||m!==null&&S===m.alternate)break t;S=ur(S),m=ur(m)}S=null}else S=null;v!==null&&Ra(f,g,v,S,!1),w!==null&&j!==null&&Ra(f,j,w,S,!0)}}e:{if(g=u?_r(u):window,v=g.nodeName&&g.nodeName.toLowerCase(),v==="select"||v==="input"&&g.type==="file")var C=ap;else if(Na(g))if(Mc)C=fp;else{C=cp;var b=up}else(v=g.nodeName)&&v.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(C=dp);if(C&&(C=C(e,u))){Ac(f,C,r,d);break e}b&&b(e,g,u),e==="focusout"&&(b=g._wrapperState)&&b.controlled&&g.type==="number"&&po(g,"number",g.value)}switch(b=u?_r(u):window,e){case"focusin":(Na(b)||b.contentEditable==="true")&&(yr=b,bo=u,fn=null);break;case"focusout":fn=bo=yr=null;break;case"mousedown":jo=!0;break;case"contextmenu":case"mouseup":case"dragend":jo=!1,Aa(f,r,d);break;case"selectionchange":if(mp)break;case"keydown":case"keyup":Aa(f,r,d)}var N;if(El)e:{switch(e){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else vr?Tc(e,r)&&(T="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(T="onCompositionStart");T&&(Oc&&r.locale!=="ko"&&(vr||T!=="onCompositionStart"?T==="onCompositionEnd"&&vr&&(N=Pc()):(Nt=d,Sl="value"in Nt?Nt.value:Nt.textContent,vr=!0)),b=Us(u,T),0<b.length&&(T=new Ca(T,e,null,r,d),f.push({event:T,listeners:b}),N?T.data=N:(N=Lc(r),N!==null&&(T.data=N)))),(N=np?sp(e,r):ip(e,r))&&(u=Us(u,"onBeforeInput"),0<u.length&&(d=new Ca("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=N))}qc(f,t)})}function On(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Us(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=kn(e,r),i!=null&&n.unshift(On(e,i,s)),i=kn(e,t),i!=null&&n.push(On(e,i,s))),e=e.return}return n}function ur(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Ra(e,t,r,n,s){for(var i=t._reactName,o=[];r!==null&&r!==n;){var l=r,a=l.alternate,u=l.stateNode;if(a!==null&&a===n)break;l.tag===5&&u!==null&&(l=u,s?(a=kn(r,i),a!=null&&o.unshift(On(r,a,l))):s||(a=kn(r,i),a!=null&&o.push(On(r,a,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var wp=/\r\n?/g,_p=/\u0000|\uFFFD/g;function Ua(e){return(typeof e=="string"?e:""+e).replace(wp,`
`).replace(_p,"")}function is(e,t,r){if(t=Ua(t),Ua(e)!==t&&r)throw Error(E(425))}function $s(){}var No=null,Po=null;function Oo(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var To=typeof setTimeout=="function"?setTimeout:void 0,xp=typeof clearTimeout=="function"?clearTimeout:void 0,$a=typeof Promise=="function"?Promise:void 0,Sp=typeof queueMicrotask=="function"?queueMicrotask:typeof $a<"u"?function(e){return $a.resolve(null).then(e).catch(kp)}:To;function kp(e){setTimeout(function(){throw e})}function Vi(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),bn(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);bn(t)}function At(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Da(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Vr=Math.random().toString(36).slice(2),nt="__reactFiber$"+Vr,Tn="__reactProps$"+Vr,gt="__reactContainer$"+Vr,Lo="__reactEvents$"+Vr,Cp="__reactListeners$"+Vr,Ep="__reactHandles$"+Vr;function Jt(e){var t=e[nt];if(t)return t;for(var r=e.parentNode;r;){if(t=r[gt]||r[nt]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Da(e);e!==null;){if(r=e[nt])return r;e=Da(e)}return t}e=r,r=e.parentNode}return null}function Vn(e){return e=e[nt]||e[gt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function _r(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(E(33))}function ui(e){return e[Tn]||null}var Ao=[],xr=-1;function Ft(e){return{current:e}}function Q(e){0>xr||(e.current=Ao[xr],Ao[xr]=null,xr--)}function H(e,t){xr++,Ao[xr]=e.current,e.current=t}var Dt={},we=Ft(Dt),Pe=Ft(!1),tr=Dt;function Mr(e,t){var r=e.type.contextTypes;if(!r)return Dt;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Oe(e){return e=e.childContextTypes,e!=null}function Ds(){Q(Pe),Q(we)}function za(e,t,r){if(we.current!==Dt)throw Error(E(168));H(we,t),H(Pe,r)}function Hc(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(E(108,uh(e)||"Unknown",s));return ee({},r,n)}function zs(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Dt,tr=we.current,H(we,e),H(Pe,Pe.current),!0}function Fa(e,t,r){var n=e.stateNode;if(!n)throw Error(E(169));r?(e=Hc(e,t,tr),n.__reactInternalMemoizedMergedChildContext=e,Q(Pe),Q(we),H(we,e)):Q(Pe),H(Pe,r)}var dt=null,ci=!1,qi=!1;function Kc(e){dt===null?dt=[e]:dt.push(e)}function bp(e){ci=!0,Kc(e)}function Bt(){if(!qi&&dt!==null){qi=!0;var e=0,t=V;try{var r=dt;for(V=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}dt=null,ci=!1}catch(s){throw dt!==null&&(dt=dt.slice(e+1)),yc(yl,Bt),s}finally{V=t,qi=!1}}return null}var Sr=[],kr=0,Fs=null,Bs=0,$e=[],De=0,rr=null,ft=1,ht="";function Ht(e,t){Sr[kr++]=Bs,Sr[kr++]=Fs,Fs=e,Bs=t}function Gc(e,t,r){$e[De++]=ft,$e[De++]=ht,$e[De++]=rr,rr=e;var n=ft;e=ht;var s=32-Ye(n)-1;n&=~(1<<s),r+=1;var i=32-Ye(t)+s;if(30<i){var o=s-s%5;i=(n&(1<<o)-1).toString(32),n>>=o,s-=o,ft=1<<32-Ye(t)+s|r<<s|n,ht=i+e}else ft=1<<i|r<<s|n,ht=e}function jl(e){e.return!==null&&(Ht(e,1),Gc(e,1,0))}function Nl(e){for(;e===Fs;)Fs=Sr[--kr],Sr[kr]=null,Bs=Sr[--kr],Sr[kr]=null;for(;e===rr;)rr=$e[--De],$e[De]=null,ht=$e[--De],$e[De]=null,ft=$e[--De],$e[De]=null}var Me=null,Ae=null,J=!1,Je=null;function Qc(e,t){var r=ze(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Ba(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Me=e,Ae=At(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Me=e,Ae=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=rr!==null?{id:ft,overflow:ht}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=ze(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Me=e,Ae=null,!0):!1;default:return!1}}function Mo(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Io(e){if(J){var t=Ae;if(t){var r=t;if(!Ba(e,t)){if(Mo(e))throw Error(E(418));t=At(r.nextSibling);var n=Me;t&&Ba(e,t)?Qc(n,r):(e.flags=e.flags&-4097|2,J=!1,Me=e)}}else{if(Mo(e))throw Error(E(418));e.flags=e.flags&-4097|2,J=!1,Me=e}}}function Va(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Me=e}function os(e){if(e!==Me)return!1;if(!J)return Va(e),J=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Oo(e.type,e.memoizedProps)),t&&(t=Ae)){if(Mo(e))throw Jc(),Error(E(418));for(;t;)Qc(e,t),t=At(t.nextSibling)}if(Va(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(E(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Ae=At(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Ae=null}}else Ae=Me?At(e.stateNode.nextSibling):null;return!0}function Jc(){for(var e=Ae;e;)e=At(e.nextSibling)}function Ir(){Ae=Me=null,J=!1}function Pl(e){Je===null?Je=[e]:Je.push(e)}var jp=wt.ReactCurrentBatchConfig;function Xr(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(E(309));var n=r.stateNode}if(!n)throw Error(E(147,e));var s=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(E(284));if(!r._owner)throw Error(E(290,e))}return e}function ls(e,t){throw e=Object.prototype.toString.call(t),Error(E(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function qa(e){var t=e._init;return t(e._payload)}function Yc(e){function t(m,p){if(e){var h=m.deletions;h===null?(m.deletions=[p],m.flags|=16):h.push(p)}}function r(m,p){if(!e)return null;for(;p!==null;)t(m,p),p=p.sibling;return null}function n(m,p){for(m=new Map;p!==null;)p.key!==null?m.set(p.key,p):m.set(p.index,p),p=p.sibling;return m}function s(m,p){return m=Ut(m,p),m.index=0,m.sibling=null,m}function i(m,p,h){return m.index=h,e?(h=m.alternate,h!==null?(h=h.index,h<p?(m.flags|=2,p):h):(m.flags|=2,p)):(m.flags|=1048576,p)}function o(m){return e&&m.alternate===null&&(m.flags|=2),m}function l(m,p,h,y){return p===null||p.tag!==6?(p=Yi(h,m.mode,y),p.return=m,p):(p=s(p,h),p.return=m,p)}function a(m,p,h,y){var C=h.type;return C===gr?d(m,p,h.props.children,y,h.key):p!==null&&(p.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===St&&qa(C)===p.type)?(y=s(p,h.props),y.ref=Xr(m,p,h),y.return=m,y):(y=Ns(h.type,h.key,h.props,null,m.mode,y),y.ref=Xr(m,p,h),y.return=m,y)}function u(m,p,h,y){return p===null||p.tag!==4||p.stateNode.containerInfo!==h.containerInfo||p.stateNode.implementation!==h.implementation?(p=Xi(h,m.mode,y),p.return=m,p):(p=s(p,h.children||[]),p.return=m,p)}function d(m,p,h,y,C){return p===null||p.tag!==7?(p=er(h,m.mode,y,C),p.return=m,p):(p=s(p,h),p.return=m,p)}function f(m,p,h){if(typeof p=="string"&&p!==""||typeof p=="number")return p=Yi(""+p,m.mode,h),p.return=m,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Jn:return h=Ns(p.type,p.key,p.props,null,m.mode,h),h.ref=Xr(m,null,p),h.return=m,h;case mr:return p=Xi(p,m.mode,h),p.return=m,p;case St:var y=p._init;return f(m,y(p._payload),h)}if(nn(p)||Kr(p))return p=er(p,m.mode,h,null),p.return=m,p;ls(m,p)}return null}function g(m,p,h,y){var C=p!==null?p.key:null;if(typeof h=="string"&&h!==""||typeof h=="number")return C!==null?null:l(m,p,""+h,y);if(typeof h=="object"&&h!==null){switch(h.$$typeof){case Jn:return h.key===C?a(m,p,h,y):null;case mr:return h.key===C?u(m,p,h,y):null;case St:return C=h._init,g(m,p,C(h._payload),y)}if(nn(h)||Kr(h))return C!==null?null:d(m,p,h,y,null);ls(m,h)}return null}function v(m,p,h,y,C){if(typeof y=="string"&&y!==""||typeof y=="number")return m=m.get(h)||null,l(p,m,""+y,C);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Jn:return m=m.get(y.key===null?h:y.key)||null,a(p,m,y,C);case mr:return m=m.get(y.key===null?h:y.key)||null,u(p,m,y,C);case St:var b=y._init;return v(m,p,h,b(y._payload),C)}if(nn(y)||Kr(y))return m=m.get(h)||null,d(p,m,y,C,null);ls(p,y)}return null}function w(m,p,h,y){for(var C=null,b=null,N=p,T=p=0,K=null;N!==null&&T<h.length;T++){N.index>T?(K=N,N=null):K=N.sibling;var U=g(m,N,h[T],y);if(U===null){N===null&&(N=K);break}e&&N&&U.alternate===null&&t(m,N),p=i(U,p,T),b===null?C=U:b.sibling=U,b=U,N=K}if(T===h.length)return r(m,N),J&&Ht(m,T),C;if(N===null){for(;T<h.length;T++)N=f(m,h[T],y),N!==null&&(p=i(N,p,T),b===null?C=N:b.sibling=N,b=N);return J&&Ht(m,T),C}for(N=n(m,N);T<h.length;T++)K=v(N,m,T,h[T],y),K!==null&&(e&&K.alternate!==null&&N.delete(K.key===null?T:K.key),p=i(K,p,T),b===null?C=K:b.sibling=K,b=K);return e&&N.forEach(function(ne){return t(m,ne)}),J&&Ht(m,T),C}function S(m,p,h,y){var C=Kr(h);if(typeof C!="function")throw Error(E(150));if(h=C.call(h),h==null)throw Error(E(151));for(var b=C=null,N=p,T=p=0,K=null,U=h.next();N!==null&&!U.done;T++,U=h.next()){N.index>T?(K=N,N=null):K=N.sibling;var ne=g(m,N,U.value,y);if(ne===null){N===null&&(N=K);break}e&&N&&ne.alternate===null&&t(m,N),p=i(ne,p,T),b===null?C=ne:b.sibling=ne,b=ne,N=K}if(U.done)return r(m,N),J&&Ht(m,T),C;if(N===null){for(;!U.done;T++,U=h.next())U=f(m,U.value,y),U!==null&&(p=i(U,p,T),b===null?C=U:b.sibling=U,b=U);return J&&Ht(m,T),C}for(N=n(m,N);!U.done;T++,U=h.next())U=v(N,m,T,U.value,y),U!==null&&(e&&U.alternate!==null&&N.delete(U.key===null?T:U.key),p=i(U,p,T),b===null?C=U:b.sibling=U,b=U);return e&&N.forEach(function(lt){return t(m,lt)}),J&&Ht(m,T),C}function j(m,p,h,y){if(typeof h=="object"&&h!==null&&h.type===gr&&h.key===null&&(h=h.props.children),typeof h=="object"&&h!==null){switch(h.$$typeof){case Jn:e:{for(var C=h.key,b=p;b!==null;){if(b.key===C){if(C=h.type,C===gr){if(b.tag===7){r(m,b.sibling),p=s(b,h.props.children),p.return=m,m=p;break e}}else if(b.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===St&&qa(C)===b.type){r(m,b.sibling),p=s(b,h.props),p.ref=Xr(m,b,h),p.return=m,m=p;break e}r(m,b);break}else t(m,b);b=b.sibling}h.type===gr?(p=er(h.props.children,m.mode,y,h.key),p.return=m,m=p):(y=Ns(h.type,h.key,h.props,null,m.mode,y),y.ref=Xr(m,p,h),y.return=m,m=y)}return o(m);case mr:e:{for(b=h.key;p!==null;){if(p.key===b)if(p.tag===4&&p.stateNode.containerInfo===h.containerInfo&&p.stateNode.implementation===h.implementation){r(m,p.sibling),p=s(p,h.children||[]),p.return=m,m=p;break e}else{r(m,p);break}else t(m,p);p=p.sibling}p=Xi(h,m.mode,y),p.return=m,m=p}return o(m);case St:return b=h._init,j(m,p,b(h._payload),y)}if(nn(h))return w(m,p,h,y);if(Kr(h))return S(m,p,h,y);ls(m,h)}return typeof h=="string"&&h!==""||typeof h=="number"?(h=""+h,p!==null&&p.tag===6?(r(m,p.sibling),p=s(p,h),p.return=m,m=p):(r(m,p),p=Yi(h,m.mode,y),p.return=m,m=p),o(m)):r(m,p)}return j}var Rr=Yc(!0),Xc=Yc(!1),Vs=Ft(null),qs=null,Cr=null,Ol=null;function Tl(){Ol=Cr=qs=null}function Ll(e){var t=Vs.current;Q(Vs),e._currentValue=t}function Ro(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Tr(e,t){qs=e,Ol=Cr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ne=!0),e.firstContext=null)}function Ve(e){var t=e._currentValue;if(Ol!==e)if(e={context:e,memoizedValue:t,next:null},Cr===null){if(qs===null)throw Error(E(308));Cr=e,qs.dependencies={lanes:0,firstContext:e}}else Cr=Cr.next=e;return t}var Yt=null;function Al(e){Yt===null?Yt=[e]:Yt.push(e)}function Zc(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,Al(t)):(r.next=s.next,s.next=r),t.interleaved=r,vt(e,n)}function vt(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var kt=!1;function Ml(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ed(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function pt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Mt(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,B&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,vt(e,r)}return s=n.interleaved,s===null?(t.next=t,Al(n)):(t.next=s.next,s.next=t),n.interleaved=t,vt(e,r)}function Ss(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,wl(e,r)}}function Wa(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?s=i=t:i=i.next=t}else s=i=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Ws(e,t,r,n){var s=e.updateQueue;kt=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var a=l,u=a.next;a.next=null,o===null?i=u:o.next=u,o=a;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=a))}if(i!==null){var f=s.baseState;o=0,d=u=a=null,l=i;do{var g=l.lane,v=l.eventTime;if((n&g)===g){d!==null&&(d=d.next={eventTime:v,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var w=e,S=l;switch(g=t,v=r,S.tag){case 1:if(w=S.payload,typeof w=="function"){f=w.call(v,f,g);break e}f=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=S.payload,g=typeof w=="function"?w.call(v,f,g):w,g==null)break e;f=ee({},f,g);break e;case 2:kt=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,g=s.effects,g===null?s.effects=[l]:g.push(l))}else v={eventTime:v,lane:g,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=v,a=f):d=d.next=v,o|=g;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;g=l,l=g.next,g.next=null,s.lastBaseUpdate=g,s.shared.pending=null}}while(!0);if(d===null&&(a=f),s.baseState=a,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);sr|=o,e.lanes=o,e.memoizedState=f}}function Ha(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(E(191,s));s.call(n)}}}var qn={},ot=Ft(qn),Ln=Ft(qn),An=Ft(qn);function Xt(e){if(e===qn)throw Error(E(174));return e}function Il(e,t){switch(H(An,t),H(Ln,e),H(ot,qn),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:go(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=go(t,e)}Q(ot),H(ot,t)}function Ur(){Q(ot),Q(Ln),Q(An)}function td(e){Xt(An.current);var t=Xt(ot.current),r=go(t,e.type);t!==r&&(H(Ln,e),H(ot,r))}function Rl(e){Ln.current===e&&(Q(ot),Q(Ln))}var X=Ft(0);function Hs(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Wi=[];function Ul(){for(var e=0;e<Wi.length;e++)Wi[e]._workInProgressVersionPrimary=null;Wi.length=0}var ks=wt.ReactCurrentDispatcher,Hi=wt.ReactCurrentBatchConfig,nr=0,Z=null,ie=null,ue=null,Ks=!1,hn=!1,Mn=0,Np=0;function me(){throw Error(E(321))}function $l(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Ze(e[r],t[r]))return!1;return!0}function Dl(e,t,r,n,s,i){if(nr=i,Z=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ks.current=e===null||e.memoizedState===null?Lp:Ap,e=r(n,s),hn){i=0;do{if(hn=!1,Mn=0,25<=i)throw Error(E(301));i+=1,ue=ie=null,t.updateQueue=null,ks.current=Mp,e=r(n,s)}while(hn)}if(ks.current=Gs,t=ie!==null&&ie.next!==null,nr=0,ue=ie=Z=null,Ks=!1,t)throw Error(E(300));return e}function zl(){var e=Mn!==0;return Mn=0,e}function rt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ue===null?Z.memoizedState=ue=e:ue=ue.next=e,ue}function qe(){if(ie===null){var e=Z.alternate;e=e!==null?e.memoizedState:null}else e=ie.next;var t=ue===null?Z.memoizedState:ue.next;if(t!==null)ue=t,ie=e;else{if(e===null)throw Error(E(310));ie=e,e={memoizedState:ie.memoizedState,baseState:ie.baseState,baseQueue:ie.baseQueue,queue:ie.queue,next:null},ue===null?Z.memoizedState=ue=e:ue=ue.next=e}return ue}function In(e,t){return typeof t=="function"?t(e):t}function Ki(e){var t=qe(),r=t.queue;if(r===null)throw Error(E(311));r.lastRenderedReducer=e;var n=ie,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var l=o=null,a=null,u=i;do{var d=u.lane;if((nr&d)===d)a!==null&&(a=a.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};a===null?(l=a=f,o=n):a=a.next=f,Z.lanes|=d,sr|=d}u=u.next}while(u!==null&&u!==i);a===null?o=n:a.next=l,Ze(n,t.memoizedState)||(Ne=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=a,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do i=s.lane,Z.lanes|=i,sr|=i,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Gi(e){var t=qe(),r=t.queue;if(r===null)throw Error(E(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,i=t.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);Ze(i,t.memoizedState)||(Ne=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function rd(){}function nd(e,t){var r=Z,n=qe(),s=t(),i=!Ze(n.memoizedState,s);if(i&&(n.memoizedState=s,Ne=!0),n=n.queue,Fl(od.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||ue!==null&&ue.memoizedState.tag&1){if(r.flags|=2048,Rn(9,id.bind(null,r,n,s,t),void 0,null),ce===null)throw Error(E(349));nr&30||sd(r,t,s)}return s}function sd(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Z.updateQueue,t===null?(t={lastEffect:null,stores:null},Z.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function id(e,t,r,n){t.value=r,t.getSnapshot=n,ld(t)&&ad(e)}function od(e,t,r){return r(function(){ld(t)&&ad(e)})}function ld(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Ze(e,r)}catch{return!0}}function ad(e){var t=vt(e,1);t!==null&&Xe(t,e,1,-1)}function Ka(e){var t=rt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:In,lastRenderedState:e},t.queue=e,e=e.dispatch=Tp.bind(null,Z,e),[t.memoizedState,e]}function Rn(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Z.updateQueue,t===null?(t={lastEffect:null,stores:null},Z.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function ud(){return qe().memoizedState}function Cs(e,t,r,n){var s=rt();Z.flags|=e,s.memoizedState=Rn(1|t,r,void 0,n===void 0?null:n)}function di(e,t,r,n){var s=qe();n=n===void 0?null:n;var i=void 0;if(ie!==null){var o=ie.memoizedState;if(i=o.destroy,n!==null&&$l(n,o.deps)){s.memoizedState=Rn(t,r,i,n);return}}Z.flags|=e,s.memoizedState=Rn(1|t,r,i,n)}function Ga(e,t){return Cs(8390656,8,e,t)}function Fl(e,t){return di(2048,8,e,t)}function cd(e,t){return di(4,2,e,t)}function dd(e,t){return di(4,4,e,t)}function fd(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function hd(e,t,r){return r=r!=null?r.concat([e]):null,di(4,4,fd.bind(null,t,e),r)}function Bl(){}function pd(e,t){var r=qe();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&$l(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function md(e,t){var r=qe();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&$l(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function gd(e,t,r){return nr&21?(Ze(r,t)||(r=xc(),Z.lanes|=r,sr|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ne=!0),e.memoizedState=r)}function Pp(e,t){var r=V;V=r!==0&&4>r?r:4,e(!0);var n=Hi.transition;Hi.transition={};try{e(!1),t()}finally{V=r,Hi.transition=n}}function vd(){return qe().memoizedState}function Op(e,t,r){var n=Rt(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},yd(e))wd(t,r);else if(r=Zc(e,t,r,n),r!==null){var s=Se();Xe(r,e,n,s),_d(r,t,n)}}function Tp(e,t,r){var n=Rt(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(yd(e))wd(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,r);if(s.hasEagerState=!0,s.eagerState=l,Ze(l,o)){var a=t.interleaved;a===null?(s.next=s,Al(t)):(s.next=a.next,a.next=s),t.interleaved=s;return}}catch{}finally{}r=Zc(e,t,s,n),r!==null&&(s=Se(),Xe(r,e,n,s),_d(r,t,n))}}function yd(e){var t=e.alternate;return e===Z||t!==null&&t===Z}function wd(e,t){hn=Ks=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function _d(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,wl(e,r)}}var Gs={readContext:Ve,useCallback:me,useContext:me,useEffect:me,useImperativeHandle:me,useInsertionEffect:me,useLayoutEffect:me,useMemo:me,useReducer:me,useRef:me,useState:me,useDebugValue:me,useDeferredValue:me,useTransition:me,useMutableSource:me,useSyncExternalStore:me,useId:me,unstable_isNewReconciler:!1},Lp={readContext:Ve,useCallback:function(e,t){return rt().memoizedState=[e,t===void 0?null:t],e},useContext:Ve,useEffect:Ga,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Cs(4194308,4,fd.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Cs(4194308,4,e,t)},useInsertionEffect:function(e,t){return Cs(4,2,e,t)},useMemo:function(e,t){var r=rt();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=rt();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=Op.bind(null,Z,e),[n.memoizedState,e]},useRef:function(e){var t=rt();return e={current:e},t.memoizedState=e},useState:Ka,useDebugValue:Bl,useDeferredValue:function(e){return rt().memoizedState=e},useTransition:function(){var e=Ka(!1),t=e[0];return e=Pp.bind(null,e[1]),rt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Z,s=rt();if(J){if(r===void 0)throw Error(E(407));r=r()}else{if(r=t(),ce===null)throw Error(E(349));nr&30||sd(n,t,r)}s.memoizedState=r;var i={value:r,getSnapshot:t};return s.queue=i,Ga(od.bind(null,n,i,e),[e]),n.flags|=2048,Rn(9,id.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=rt(),t=ce.identifierPrefix;if(J){var r=ht,n=ft;r=(n&~(1<<32-Ye(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Mn++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=Np++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Ap={readContext:Ve,useCallback:pd,useContext:Ve,useEffect:Fl,useImperativeHandle:hd,useInsertionEffect:cd,useLayoutEffect:dd,useMemo:md,useReducer:Ki,useRef:ud,useState:function(){return Ki(In)},useDebugValue:Bl,useDeferredValue:function(e){var t=qe();return gd(t,ie.memoizedState,e)},useTransition:function(){var e=Ki(In)[0],t=qe().memoizedState;return[e,t]},useMutableSource:rd,useSyncExternalStore:nd,useId:vd,unstable_isNewReconciler:!1},Mp={readContext:Ve,useCallback:pd,useContext:Ve,useEffect:Fl,useImperativeHandle:hd,useInsertionEffect:cd,useLayoutEffect:dd,useMemo:md,useReducer:Gi,useRef:ud,useState:function(){return Gi(In)},useDebugValue:Bl,useDeferredValue:function(e){var t=qe();return ie===null?t.memoizedState=e:gd(t,ie.memoizedState,e)},useTransition:function(){var e=Gi(In)[0],t=qe().memoizedState;return[e,t]},useMutableSource:rd,useSyncExternalStore:nd,useId:vd,unstable_isNewReconciler:!1};function Ke(e,t){if(e&&e.defaultProps){t=ee({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Uo(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:ee({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var fi={isMounted:function(e){return(e=e._reactInternals)?lr(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Se(),s=Rt(e),i=pt(n,s);i.payload=t,r!=null&&(i.callback=r),t=Mt(e,i,s),t!==null&&(Xe(t,e,s,n),Ss(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Se(),s=Rt(e),i=pt(n,s);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=Mt(e,i,s),t!==null&&(Xe(t,e,s,n),Ss(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Se(),n=Rt(e),s=pt(r,n);s.tag=2,t!=null&&(s.callback=t),t=Mt(e,s,n),t!==null&&(Xe(t,e,n,r),Ss(t,e,n))}};function Qa(e,t,r,n,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,o):t.prototype&&t.prototype.isPureReactComponent?!Nn(r,n)||!Nn(s,i):!0}function xd(e,t,r){var n=!1,s=Dt,i=t.contextType;return typeof i=="object"&&i!==null?i=Ve(i):(s=Oe(t)?tr:we.current,n=t.contextTypes,i=(n=n!=null)?Mr(e,s):Dt),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=fi,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function Ja(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&fi.enqueueReplaceState(t,t.state,null)}function $o(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},Ml(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=Ve(i):(i=Oe(t)?tr:we.current,s.context=Mr(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Uo(e,t,i,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&fi.enqueueReplaceState(s,s.state,null),Ws(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function $r(e,t){try{var r="",n=t;do r+=ah(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function Qi(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Do(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var Ip=typeof WeakMap=="function"?WeakMap:Map;function Sd(e,t,r){r=pt(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Js||(Js=!0,Qo=n),Do(e,t)},r}function kd(e,t,r){r=pt(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){Do(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){Do(e,t),typeof n!="function"&&(It===null?It=new Set([this]):It.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function Ya(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new Ip;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=Qp.bind(null,e,t,r),t.then(e,e))}function Xa(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Za(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=pt(-1,1),t.tag=2,Mt(r,t,1))),r.lanes|=1),e)}var Rp=wt.ReactCurrentOwner,Ne=!1;function _e(e,t,r,n){t.child=e===null?Xc(t,null,r,n):Rr(t,e.child,r,n)}function eu(e,t,r,n,s){r=r.render;var i=t.ref;return Tr(t,s),n=Dl(e,t,r,n,i,s),r=zl(),e!==null&&!Ne?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,yt(e,t,s)):(J&&r&&jl(t),t.flags|=1,_e(e,t,n,s),t.child)}function tu(e,t,r,n,s){if(e===null){var i=r.type;return typeof i=="function"&&!Jl(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,Cd(e,t,i,n,s)):(e=Ns(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:Nn,r(o,n)&&e.ref===t.ref)return yt(e,t,s)}return t.flags|=1,e=Ut(i,n),e.ref=t.ref,e.return=t,t.child=e}function Cd(e,t,r,n,s){if(e!==null){var i=e.memoizedProps;if(Nn(i,n)&&e.ref===t.ref)if(Ne=!1,t.pendingProps=n=i,(e.lanes&s)!==0)e.flags&131072&&(Ne=!0);else return t.lanes=e.lanes,yt(e,t,s)}return zo(e,t,r,n,s)}function Ed(e,t,r){var n=t.pendingProps,s=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},H(br,Le),Le|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,H(br,Le),Le|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,H(br,Le),Le|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,H(br,Le),Le|=n;return _e(e,t,s,r),t.child}function bd(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function zo(e,t,r,n,s){var i=Oe(r)?tr:we.current;return i=Mr(t,i),Tr(t,s),r=Dl(e,t,r,n,i,s),n=zl(),e!==null&&!Ne?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,yt(e,t,s)):(J&&n&&jl(t),t.flags|=1,_e(e,t,r,s),t.child)}function ru(e,t,r,n,s){if(Oe(r)){var i=!0;zs(t)}else i=!1;if(Tr(t,s),t.stateNode===null)Es(e,t),xd(t,r,n),$o(t,r,n,s),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var a=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=Ve(u):(u=Oe(r)?tr:we.current,u=Mr(t,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||a!==u)&&Ja(t,o,n,u),kt=!1;var g=t.memoizedState;o.state=g,Ws(t,n,o,s),a=t.memoizedState,l!==n||g!==a||Pe.current||kt?(typeof d=="function"&&(Uo(t,r,d,n),a=t.memoizedState),(l=kt||Qa(t,r,l,n,g,a,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=a),o.props=n,o.state=a,o.context=u,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,ed(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:Ke(t.type,l),o.props=u,f=t.pendingProps,g=o.context,a=r.contextType,typeof a=="object"&&a!==null?a=Ve(a):(a=Oe(r)?tr:we.current,a=Mr(t,a));var v=r.getDerivedStateFromProps;(d=typeof v=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==f||g!==a)&&Ja(t,o,n,a),kt=!1,g=t.memoizedState,o.state=g,Ws(t,n,o,s);var w=t.memoizedState;l!==f||g!==w||Pe.current||kt?(typeof v=="function"&&(Uo(t,r,v,n),w=t.memoizedState),(u=kt||Qa(t,r,u,n,g,w,a)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,w,a),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,w,a)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=w),o.props=n,o.state=w,o.context=a,n=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),n=!1)}return Fo(e,t,r,n,i,s)}function Fo(e,t,r,n,s,i){bd(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return s&&Fa(t,r,!1),yt(e,t,i);n=t.stateNode,Rp.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=Rr(t,e.child,null,i),t.child=Rr(t,null,l,i)):_e(e,t,l,i),t.memoizedState=n.state,s&&Fa(t,r,!0),t.child}function jd(e){var t=e.stateNode;t.pendingContext?za(e,t.pendingContext,t.pendingContext!==t.context):t.context&&za(e,t.context,!1),Il(e,t.containerInfo)}function nu(e,t,r,n,s){return Ir(),Pl(s),t.flags|=256,_e(e,t,r,n),t.child}var Bo={dehydrated:null,treeContext:null,retryLane:0};function Vo(e){return{baseLanes:e,cachePool:null,transitions:null}}function Nd(e,t,r){var n=t.pendingProps,s=X.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),H(X,s&1),e===null)return Io(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,i?(n=t.mode,i=t.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=mi(o,n,0,null),e=er(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Vo(r),t.memoizedState=Bo,e):Vl(t,o));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return Up(e,t,o,n,l,s,r);if(i){i=n.fallback,o=t.mode,s=e.child,l=s.sibling;var a={mode:"hidden",children:n.children};return!(o&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=a,t.deletions=null):(n=Ut(s,a),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=Ut(l,i):(i=er(i,o,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,o=e.child.memoizedState,o=o===null?Vo(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~r,t.memoizedState=Bo,n}return i=e.child,e=i.sibling,n=Ut(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Vl(e,t){return t=mi({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function as(e,t,r,n){return n!==null&&Pl(n),Rr(t,e.child,null,r),e=Vl(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Up(e,t,r,n,s,i,o){if(r)return t.flags&256?(t.flags&=-257,n=Qi(Error(E(422))),as(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,s=t.mode,n=mi({mode:"visible",children:n.children},s,0,null),i=er(i,s,o,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&Rr(t,e.child,null,o),t.child.memoizedState=Vo(o),t.memoizedState=Bo,i);if(!(t.mode&1))return as(e,t,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(E(419)),n=Qi(i,n,void 0),as(e,t,o,n)}if(l=(o&e.childLanes)!==0,Ne||l){if(n=ce,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,vt(e,s),Xe(n,e,s,-1))}return Ql(),n=Qi(Error(E(421))),as(e,t,o,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=Jp.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,Ae=At(s.nextSibling),Me=t,J=!0,Je=null,e!==null&&($e[De++]=ft,$e[De++]=ht,$e[De++]=rr,ft=e.id,ht=e.overflow,rr=t),t=Vl(t,n.children),t.flags|=4096,t)}function su(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Ro(e.return,t,r)}function Ji(e,t,r,n,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function Pd(e,t,r){var n=t.pendingProps,s=n.revealOrder,i=n.tail;if(_e(e,t,n.children,r),n=X.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&su(e,r,t);else if(e.tag===19)su(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(H(X,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&Hs(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),Ji(t,!1,s,r,i);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Hs(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}Ji(t,!0,r,null,i);break;case"together":Ji(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Es(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function yt(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),sr|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(E(153));if(t.child!==null){for(e=t.child,r=Ut(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Ut(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function $p(e,t,r){switch(t.tag){case 3:jd(t),Ir();break;case 5:td(t);break;case 1:Oe(t.type)&&zs(t);break;case 4:Il(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;H(Vs,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(H(X,X.current&1),t.flags|=128,null):r&t.child.childLanes?Nd(e,t,r):(H(X,X.current&1),e=yt(e,t,r),e!==null?e.sibling:null);H(X,X.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return Pd(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),H(X,X.current),n)break;return null;case 22:case 23:return t.lanes=0,Ed(e,t,r)}return yt(e,t,r)}var Od,qo,Td,Ld;Od=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};qo=function(){};Td=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,Xt(ot.current);var i=null;switch(r){case"input":s=fo(e,s),n=fo(e,n),i=[];break;case"select":s=ee({},s,{value:void 0}),n=ee({},n,{value:void 0}),i=[];break;case"textarea":s=mo(e,s),n=mo(e,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=$s)}vo(r,n);var o;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(xn.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var a=n[u];if(l=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&a!==l&&(a!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||a&&a.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in a)a.hasOwnProperty(o)&&l[o]!==a[o]&&(r||(r={}),r[o]=a[o])}else r||(i||(i=[]),i.push(u,r)),r=a;else u==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,l=l?l.__html:void 0,a!=null&&l!==a&&(i=i||[]).push(u,a)):u==="children"?typeof a!="string"&&typeof a!="number"||(i=i||[]).push(u,""+a):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(xn.hasOwnProperty(u)?(a!=null&&u==="onScroll"&&G("scroll",e),i||l===a||(i=[])):(i=i||[]).push(u,a))}r&&(i=i||[]).push("style",r);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};Ld=function(e,t,r,n){r!==n&&(t.flags|=4)};function Zr(e,t){if(!J)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function ge(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function Dp(e,t,r){var n=t.pendingProps;switch(Nl(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ge(t),null;case 1:return Oe(t.type)&&Ds(),ge(t),null;case 3:return n=t.stateNode,Ur(),Q(Pe),Q(we),Ul(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(os(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Je!==null&&(Xo(Je),Je=null))),qo(e,t),ge(t),null;case 5:Rl(t);var s=Xt(An.current);if(r=t.type,e!==null&&t.stateNode!=null)Td(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(E(166));return ge(t),null}if(e=Xt(ot.current),os(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[nt]=t,n[Tn]=i,e=(t.mode&1)!==0,r){case"dialog":G("cancel",n),G("close",n);break;case"iframe":case"object":case"embed":G("load",n);break;case"video":case"audio":for(s=0;s<on.length;s++)G(on[s],n);break;case"source":G("error",n);break;case"img":case"image":case"link":G("error",n),G("load",n);break;case"details":G("toggle",n);break;case"input":ha(n,i),G("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},G("invalid",n);break;case"textarea":ma(n,i),G("invalid",n)}vo(r,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&is(n.textContent,l,e),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&is(n.textContent,l,e),s=["children",""+l]):xn.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&G("scroll",n)}switch(r){case"input":Yn(n),pa(n,i,!0);break;case"textarea":Yn(n),ga(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=$s)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=oc(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[nt]=t,e[Tn]=n,Od(e,t,!1,!1),t.stateNode=e;e:{switch(o=yo(r,n),r){case"dialog":G("cancel",e),G("close",e),s=n;break;case"iframe":case"object":case"embed":G("load",e),s=n;break;case"video":case"audio":for(s=0;s<on.length;s++)G(on[s],e);s=n;break;case"source":G("error",e),s=n;break;case"img":case"image":case"link":G("error",e),G("load",e),s=n;break;case"details":G("toggle",e),s=n;break;case"input":ha(e,n),s=fo(e,n),G("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=ee({},n,{value:void 0}),G("invalid",e);break;case"textarea":ma(e,n),s=mo(e,n),G("invalid",e);break;default:s=n}vo(r,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var a=l[i];i==="style"?uc(e,a):i==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&lc(e,a)):i==="children"?typeof a=="string"?(r!=="textarea"||a!=="")&&Sn(e,a):typeof a=="number"&&Sn(e,""+a):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(xn.hasOwnProperty(i)?a!=null&&i==="onScroll"&&G("scroll",e):a!=null&&hl(e,i,a,o))}switch(r){case"input":Yn(e),pa(e,n,!1);break;case"textarea":Yn(e),ga(e);break;case"option":n.value!=null&&e.setAttribute("value",""+$t(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?jr(e,!!n.multiple,i,!1):n.defaultValue!=null&&jr(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=$s)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ge(t),null;case 6:if(e&&t.stateNode!=null)Ld(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(E(166));if(r=Xt(An.current),Xt(ot.current),os(t)){if(n=t.stateNode,r=t.memoizedProps,n[nt]=t,(i=n.nodeValue!==r)&&(e=Me,e!==null))switch(e.tag){case 3:is(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&is(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[nt]=t,t.stateNode=n}return ge(t),null;case 13:if(Q(X),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(J&&Ae!==null&&t.mode&1&&!(t.flags&128))Jc(),Ir(),t.flags|=98560,i=!1;else if(i=os(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(E(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(E(317));i[nt]=t}else Ir(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ge(t),i=!1}else Je!==null&&(Xo(Je),Je=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||X.current&1?oe===0&&(oe=3):Ql())),t.updateQueue!==null&&(t.flags|=4),ge(t),null);case 4:return Ur(),qo(e,t),e===null&&Pn(t.stateNode.containerInfo),ge(t),null;case 10:return Ll(t.type._context),ge(t),null;case 17:return Oe(t.type)&&Ds(),ge(t),null;case 19:if(Q(X),i=t.memoizedState,i===null)return ge(t),null;if(n=(t.flags&128)!==0,o=i.rendering,o===null)if(n)Zr(i,!1);else{if(oe!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Hs(e),o!==null){for(t.flags|=128,Zr(i,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return H(X,X.current&1|2),t.child}e=e.sibling}i.tail!==null&&re()>Dr&&(t.flags|=128,n=!0,Zr(i,!1),t.lanes=4194304)}else{if(!n)if(e=Hs(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Zr(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!J)return ge(t),null}else 2*re()-i.renderingStartTime>Dr&&r!==1073741824&&(t.flags|=128,n=!0,Zr(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(r=i.last,r!==null?r.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=re(),t.sibling=null,r=X.current,H(X,n?r&1|2:r&1),t):(ge(t),null);case 22:case 23:return Gl(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Le&1073741824&&(ge(t),t.subtreeFlags&6&&(t.flags|=8192)):ge(t),null;case 24:return null;case 25:return null}throw Error(E(156,t.tag))}function zp(e,t){switch(Nl(t),t.tag){case 1:return Oe(t.type)&&Ds(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ur(),Q(Pe),Q(we),Ul(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Rl(t),null;case 13:if(Q(X),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(E(340));Ir()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Q(X),null;case 4:return Ur(),null;case 10:return Ll(t.type._context),null;case 22:case 23:return Gl(),null;case 24:return null;default:return null}}var us=!1,ye=!1,Fp=typeof WeakSet=="function"?WeakSet:Set,P=null;function Er(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){te(e,t,n)}else r.current=null}function Wo(e,t,r){try{r()}catch(n){te(e,t,n)}}var iu=!1;function Bp(e,t){if(No=Is,e=Uc(),bl(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,l=-1,a=-1,u=0,d=0,f=e,g=null;t:for(;;){for(var v;f!==r||s!==0&&f.nodeType!==3||(l=o+s),f!==i||n!==0&&f.nodeType!==3||(a=o+n),f.nodeType===3&&(o+=f.nodeValue.length),(v=f.firstChild)!==null;)g=f,f=v;for(;;){if(f===e)break t;if(g===r&&++u===s&&(l=o),g===i&&++d===n&&(a=o),(v=f.nextSibling)!==null)break;f=g,g=f.parentNode}f=v}r=l===-1||a===-1?null:{start:l,end:a}}else r=null}r=r||{start:0,end:0}}else r=null;for(Po={focusedElem:e,selectionRange:r},Is=!1,P=t;P!==null;)if(t=P,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,P=e;else for(;P!==null;){t=P;try{var w=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var S=w.memoizedProps,j=w.memoizedState,m=t.stateNode,p=m.getSnapshotBeforeUpdate(t.elementType===t.type?S:Ke(t.type,S),j);m.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var h=t.stateNode.containerInfo;h.nodeType===1?h.textContent="":h.nodeType===9&&h.documentElement&&h.removeChild(h.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(E(163))}}catch(y){te(t,t.return,y)}if(e=t.sibling,e!==null){e.return=t.return,P=e;break}P=t.return}return w=iu,iu=!1,w}function pn(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&Wo(t,r,i)}s=s.next}while(s!==n)}}function hi(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Ho(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Ad(e){var t=e.alternate;t!==null&&(e.alternate=null,Ad(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[nt],delete t[Tn],delete t[Lo],delete t[Cp],delete t[Ep])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Md(e){return e.tag===5||e.tag===3||e.tag===4}function ou(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Md(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ko(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=$s));else if(n!==4&&(e=e.child,e!==null))for(Ko(e,t,r),e=e.sibling;e!==null;)Ko(e,t,r),e=e.sibling}function Go(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Go(e,t,r),e=e.sibling;e!==null;)Go(e,t,r),e=e.sibling}var fe=null,Ge=!1;function _t(e,t,r){for(r=r.child;r!==null;)Id(e,t,r),r=r.sibling}function Id(e,t,r){if(it&&typeof it.onCommitFiberUnmount=="function")try{it.onCommitFiberUnmount(ii,r)}catch{}switch(r.tag){case 5:ye||Er(r,t);case 6:var n=fe,s=Ge;fe=null,_t(e,t,r),fe=n,Ge=s,fe!==null&&(Ge?(e=fe,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):fe.removeChild(r.stateNode));break;case 18:fe!==null&&(Ge?(e=fe,r=r.stateNode,e.nodeType===8?Vi(e.parentNode,r):e.nodeType===1&&Vi(e,r),bn(e)):Vi(fe,r.stateNode));break;case 4:n=fe,s=Ge,fe=r.stateNode.containerInfo,Ge=!0,_t(e,t,r),fe=n,Ge=s;break;case 0:case 11:case 14:case 15:if(!ye&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Wo(r,t,o),s=s.next}while(s!==n)}_t(e,t,r);break;case 1:if(!ye&&(Er(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){te(r,t,l)}_t(e,t,r);break;case 21:_t(e,t,r);break;case 22:r.mode&1?(ye=(n=ye)||r.memoizedState!==null,_t(e,t,r),ye=n):_t(e,t,r);break;default:_t(e,t,r)}}function lu(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new Fp),t.forEach(function(n){var s=Yp.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function We(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:fe=l.stateNode,Ge=!1;break e;case 3:fe=l.stateNode.containerInfo,Ge=!0;break e;case 4:fe=l.stateNode.containerInfo,Ge=!0;break e}l=l.return}if(fe===null)throw Error(E(160));Id(i,o,s),fe=null,Ge=!1;var a=s.alternate;a!==null&&(a.return=null),s.return=null}catch(u){te(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Rd(t,e),t=t.sibling}function Rd(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(We(t,e),tt(e),n&4){try{pn(3,e,e.return),hi(3,e)}catch(S){te(e,e.return,S)}try{pn(5,e,e.return)}catch(S){te(e,e.return,S)}}break;case 1:We(t,e),tt(e),n&512&&r!==null&&Er(r,r.return);break;case 5:if(We(t,e),tt(e),n&512&&r!==null&&Er(r,r.return),e.flags&32){var s=e.stateNode;try{Sn(s,"")}catch(S){te(e,e.return,S)}}if(n&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=r!==null?r.memoizedProps:i,l=e.type,a=e.updateQueue;if(e.updateQueue=null,a!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&sc(s,i),yo(l,o);var u=yo(l,i);for(o=0;o<a.length;o+=2){var d=a[o],f=a[o+1];d==="style"?uc(s,f):d==="dangerouslySetInnerHTML"?lc(s,f):d==="children"?Sn(s,f):hl(s,d,f,u)}switch(l){case"input":ho(s,i);break;case"textarea":ic(s,i);break;case"select":var g=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var v=i.value;v!=null?jr(s,!!i.multiple,v,!1):g!==!!i.multiple&&(i.defaultValue!=null?jr(s,!!i.multiple,i.defaultValue,!0):jr(s,!!i.multiple,i.multiple?[]:"",!1))}s[Tn]=i}catch(S){te(e,e.return,S)}}break;case 6:if(We(t,e),tt(e),n&4){if(e.stateNode===null)throw Error(E(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(S){te(e,e.return,S)}}break;case 3:if(We(t,e),tt(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{bn(t.containerInfo)}catch(S){te(e,e.return,S)}break;case 4:We(t,e),tt(e);break;case 13:We(t,e),tt(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Hl=re())),n&4&&lu(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(ye=(u=ye)||d,We(t,e),ye=u):We(t,e),tt(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(P=e,d=e.child;d!==null;){for(f=P=d;P!==null;){switch(g=P,v=g.child,g.tag){case 0:case 11:case 14:case 15:pn(4,g,g.return);break;case 1:Er(g,g.return);var w=g.stateNode;if(typeof w.componentWillUnmount=="function"){n=g,r=g.return;try{t=n,w.props=t.memoizedProps,w.state=t.memoizedState,w.componentWillUnmount()}catch(S){te(n,r,S)}}break;case 5:Er(g,g.return);break;case 22:if(g.memoizedState!==null){uu(f);continue}}v!==null?(v.return=g,P=v):uu(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=f.stateNode,a=f.memoizedProps.style,o=a!=null&&a.hasOwnProperty("display")?a.display:null,l.style.display=ac("display",o))}catch(S){te(e,e.return,S)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(S){te(e,e.return,S)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:We(t,e),tt(e),n&4&&lu(e);break;case 21:break;default:We(t,e),tt(e)}}function tt(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Md(r)){var n=r;break e}r=r.return}throw Error(E(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(Sn(s,""),n.flags&=-33);var i=ou(e);Go(e,i,s);break;case 3:case 4:var o=n.stateNode.containerInfo,l=ou(e);Ko(e,l,o);break;default:throw Error(E(161))}}catch(a){te(e,e.return,a)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Vp(e,t,r){P=e,Ud(e)}function Ud(e,t,r){for(var n=(e.mode&1)!==0;P!==null;){var s=P,i=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||us;if(!o){var l=s.alternate,a=l!==null&&l.memoizedState!==null||ye;l=us;var u=ye;if(us=o,(ye=a)&&!u)for(P=s;P!==null;)o=P,a=o.child,o.tag===22&&o.memoizedState!==null?cu(s):a!==null?(a.return=o,P=a):cu(s);for(;i!==null;)P=i,Ud(i),i=i.sibling;P=s,us=l,ye=u}au(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,P=i):au(e)}}function au(e){for(;P!==null;){var t=P;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ye||hi(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!ye)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:Ke(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Ha(t,i,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Ha(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var a=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&r.focus();break;case"img":a.src&&(r.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&bn(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(E(163))}ye||t.flags&512&&Ho(t)}catch(g){te(t,t.return,g)}}if(t===e){P=null;break}if(r=t.sibling,r!==null){r.return=t.return,P=r;break}P=t.return}}function uu(e){for(;P!==null;){var t=P;if(t===e){P=null;break}var r=t.sibling;if(r!==null){r.return=t.return,P=r;break}P=t.return}}function cu(e){for(;P!==null;){var t=P;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{hi(4,t)}catch(a){te(t,r,a)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(a){te(t,s,a)}}var i=t.return;try{Ho(t)}catch(a){te(t,i,a)}break;case 5:var o=t.return;try{Ho(t)}catch(a){te(t,o,a)}}}catch(a){te(t,t.return,a)}if(t===e){P=null;break}var l=t.sibling;if(l!==null){l.return=t.return,P=l;break}P=t.return}}var qp=Math.ceil,Qs=wt.ReactCurrentDispatcher,ql=wt.ReactCurrentOwner,Fe=wt.ReactCurrentBatchConfig,B=0,ce=null,se=null,he=0,Le=0,br=Ft(0),oe=0,Un=null,sr=0,pi=0,Wl=0,mn=null,be=null,Hl=0,Dr=1/0,ut=null,Js=!1,Qo=null,It=null,cs=!1,Pt=null,Ys=0,gn=0,Jo=null,bs=-1,js=0;function Se(){return B&6?re():bs!==-1?bs:bs=re()}function Rt(e){return e.mode&1?B&2&&he!==0?he&-he:jp.transition!==null?(js===0&&(js=xc()),js):(e=V,e!==0||(e=window.event,e=e===void 0?16:Nc(e.type)),e):1}function Xe(e,t,r,n){if(50<gn)throw gn=0,Jo=null,Error(E(185));Fn(e,r,n),(!(B&2)||e!==ce)&&(e===ce&&(!(B&2)&&(pi|=r),oe===4&&bt(e,he)),Te(e,n),r===1&&B===0&&!(t.mode&1)&&(Dr=re()+500,ci&&Bt()))}function Te(e,t){var r=e.callbackNode;jh(e,t);var n=Ms(e,e===ce?he:0);if(n===0)r!==null&&wa(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&wa(r),t===1)e.tag===0?bp(du.bind(null,e)):Kc(du.bind(null,e)),Sp(function(){!(B&6)&&Bt()}),r=null;else{switch(Sc(n)){case 1:r=yl;break;case 4:r=wc;break;case 16:r=As;break;case 536870912:r=_c;break;default:r=As}r=Wd(r,$d.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function $d(e,t){if(bs=-1,js=0,B&6)throw Error(E(327));var r=e.callbackNode;if(Lr()&&e.callbackNode!==r)return null;var n=Ms(e,e===ce?he:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Xs(e,n);else{t=n;var s=B;B|=2;var i=zd();(ce!==e||he!==t)&&(ut=null,Dr=re()+500,Zt(e,t));do try{Kp();break}catch(l){Dd(e,l)}while(!0);Tl(),Qs.current=i,B=s,se!==null?t=0:(ce=null,he=0,t=oe)}if(t!==0){if(t===2&&(s=ko(e),s!==0&&(n=s,t=Yo(e,s))),t===1)throw r=Un,Zt(e,0),bt(e,n),Te(e,re()),r;if(t===6)bt(e,n);else{if(s=e.current.alternate,!(n&30)&&!Wp(s)&&(t=Xs(e,n),t===2&&(i=ko(e),i!==0&&(n=i,t=Yo(e,i))),t===1))throw r=Un,Zt(e,0),bt(e,n),Te(e,re()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(E(345));case 2:Kt(e,be,ut);break;case 3:if(bt(e,n),(n&130023424)===n&&(t=Hl+500-re(),10<t)){if(Ms(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){Se(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=To(Kt.bind(null,e,be,ut),t);break}Kt(e,be,ut);break;case 4:if(bt(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var o=31-Ye(n);i=1<<o,o=t[o],o>s&&(s=o),n&=~i}if(n=s,n=re()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*qp(n/1960))-n,10<n){e.timeoutHandle=To(Kt.bind(null,e,be,ut),n);break}Kt(e,be,ut);break;case 5:Kt(e,be,ut);break;default:throw Error(E(329))}}}return Te(e,re()),e.callbackNode===r?$d.bind(null,e):null}function Yo(e,t){var r=mn;return e.current.memoizedState.isDehydrated&&(Zt(e,t).flags|=256),e=Xs(e,t),e!==2&&(t=be,be=r,t!==null&&Xo(t)),e}function Xo(e){be===null?be=e:be.push.apply(be,e)}function Wp(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!Ze(i(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function bt(e,t){for(t&=~Wl,t&=~pi,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Ye(t),n=1<<r;e[r]=-1,t&=~n}}function du(e){if(B&6)throw Error(E(327));Lr();var t=Ms(e,0);if(!(t&1))return Te(e,re()),null;var r=Xs(e,t);if(e.tag!==0&&r===2){var n=ko(e);n!==0&&(t=n,r=Yo(e,n))}if(r===1)throw r=Un,Zt(e,0),bt(e,t),Te(e,re()),r;if(r===6)throw Error(E(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Kt(e,be,ut),Te(e,re()),null}function Kl(e,t){var r=B;B|=1;try{return e(t)}finally{B=r,B===0&&(Dr=re()+500,ci&&Bt())}}function ir(e){Pt!==null&&Pt.tag===0&&!(B&6)&&Lr();var t=B;B|=1;var r=Fe.transition,n=V;try{if(Fe.transition=null,V=1,e)return e()}finally{V=n,Fe.transition=r,B=t,!(B&6)&&Bt()}}function Gl(){Le=br.current,Q(br)}function Zt(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,xp(r)),se!==null)for(r=se.return;r!==null;){var n=r;switch(Nl(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Ds();break;case 3:Ur(),Q(Pe),Q(we),Ul();break;case 5:Rl(n);break;case 4:Ur();break;case 13:Q(X);break;case 19:Q(X);break;case 10:Ll(n.type._context);break;case 22:case 23:Gl()}r=r.return}if(ce=e,se=e=Ut(e.current,null),he=Le=t,oe=0,Un=null,Wl=pi=sr=0,be=mn=null,Yt!==null){for(t=0;t<Yt.length;t++)if(r=Yt[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=s,n.next=o}r.pending=n}Yt=null}return e}function Dd(e,t){do{var r=se;try{if(Tl(),ks.current=Gs,Ks){for(var n=Z.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Ks=!1}if(nr=0,ue=ie=Z=null,hn=!1,Mn=0,ql.current=null,r===null||r.return===null){oe=1,Un=t,se=null;break}e:{var i=e,o=r.return,l=r,a=t;if(t=he,l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var u=a,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var g=d.alternate;g?(d.updateQueue=g.updateQueue,d.memoizedState=g.memoizedState,d.lanes=g.lanes):(d.updateQueue=null,d.memoizedState=null)}var v=Xa(o);if(v!==null){v.flags&=-257,Za(v,o,l,i,t),v.mode&1&&Ya(i,u,t),t=v,a=u;var w=t.updateQueue;if(w===null){var S=new Set;S.add(a),t.updateQueue=S}else w.add(a);break e}else{if(!(t&1)){Ya(i,u,t),Ql();break e}a=Error(E(426))}}else if(J&&l.mode&1){var j=Xa(o);if(j!==null){!(j.flags&65536)&&(j.flags|=256),Za(j,o,l,i,t),Pl($r(a,l));break e}}i=a=$r(a,l),oe!==4&&(oe=2),mn===null?mn=[i]:mn.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var m=Sd(i,a,t);Wa(i,m);break e;case 1:l=a;var p=i.type,h=i.stateNode;if(!(i.flags&128)&&(typeof p.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(It===null||!It.has(h)))){i.flags|=65536,t&=-t,i.lanes|=t;var y=kd(i,l,t);Wa(i,y);break e}}i=i.return}while(i!==null)}Bd(r)}catch(C){t=C,se===r&&r!==null&&(se=r=r.return);continue}break}while(!0)}function zd(){var e=Qs.current;return Qs.current=Gs,e===null?Gs:e}function Ql(){(oe===0||oe===3||oe===2)&&(oe=4),ce===null||!(sr&268435455)&&!(pi&268435455)||bt(ce,he)}function Xs(e,t){var r=B;B|=2;var n=zd();(ce!==e||he!==t)&&(ut=null,Zt(e,t));do try{Hp();break}catch(s){Dd(e,s)}while(!0);if(Tl(),B=r,Qs.current=n,se!==null)throw Error(E(261));return ce=null,he=0,oe}function Hp(){for(;se!==null;)Fd(se)}function Kp(){for(;se!==null&&!yh();)Fd(se)}function Fd(e){var t=qd(e.alternate,e,Le);e.memoizedProps=e.pendingProps,t===null?Bd(e):se=t,ql.current=null}function Bd(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=zp(r,t),r!==null){r.flags&=32767,se=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{oe=6,se=null;return}}else if(r=Dp(r,t,Le),r!==null){se=r;return}if(t=t.sibling,t!==null){se=t;return}se=t=e}while(t!==null);oe===0&&(oe=5)}function Kt(e,t,r){var n=V,s=Fe.transition;try{Fe.transition=null,V=1,Gp(e,t,r,n)}finally{Fe.transition=s,V=n}return null}function Gp(e,t,r,n){do Lr();while(Pt!==null);if(B&6)throw Error(E(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(E(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(Nh(e,i),e===ce&&(se=ce=null,he=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||cs||(cs=!0,Wd(As,function(){return Lr(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=Fe.transition,Fe.transition=null;var o=V;V=1;var l=B;B|=4,ql.current=null,Bp(e,r),Rd(r,e),pp(Po),Is=!!No,Po=No=null,e.current=r,Vp(r),wh(),B=l,V=o,Fe.transition=i}else e.current=r;if(cs&&(cs=!1,Pt=e,Ys=s),i=e.pendingLanes,i===0&&(It=null),Sh(r.stateNode),Te(e,re()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(Js)throw Js=!1,e=Qo,Qo=null,e;return Ys&1&&e.tag!==0&&Lr(),i=e.pendingLanes,i&1?e===Jo?gn++:(gn=0,Jo=e):gn=0,Bt(),null}function Lr(){if(Pt!==null){var e=Sc(Ys),t=Fe.transition,r=V;try{if(Fe.transition=null,V=16>e?16:e,Pt===null)var n=!1;else{if(e=Pt,Pt=null,Ys=0,B&6)throw Error(E(331));var s=B;for(B|=4,P=e.current;P!==null;){var i=P,o=i.child;if(P.flags&16){var l=i.deletions;if(l!==null){for(var a=0;a<l.length;a++){var u=l[a];for(P=u;P!==null;){var d=P;switch(d.tag){case 0:case 11:case 15:pn(8,d,i)}var f=d.child;if(f!==null)f.return=d,P=f;else for(;P!==null;){d=P;var g=d.sibling,v=d.return;if(Ad(d),d===u){P=null;break}if(g!==null){g.return=v,P=g;break}P=v}}}var w=i.alternate;if(w!==null){var S=w.child;if(S!==null){w.child=null;do{var j=S.sibling;S.sibling=null,S=j}while(S!==null)}}P=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,P=o;else e:for(;P!==null;){if(i=P,i.flags&2048)switch(i.tag){case 0:case 11:case 15:pn(9,i,i.return)}var m=i.sibling;if(m!==null){m.return=i.return,P=m;break e}P=i.return}}var p=e.current;for(P=p;P!==null;){o=P;var h=o.child;if(o.subtreeFlags&2064&&h!==null)h.return=o,P=h;else e:for(o=p;P!==null;){if(l=P,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:hi(9,l)}}catch(C){te(l,l.return,C)}if(l===o){P=null;break e}var y=l.sibling;if(y!==null){y.return=l.return,P=y;break e}P=l.return}}if(B=s,Bt(),it&&typeof it.onPostCommitFiberRoot=="function")try{it.onPostCommitFiberRoot(ii,e)}catch{}n=!0}return n}finally{V=r,Fe.transition=t}}return!1}function fu(e,t,r){t=$r(r,t),t=Sd(e,t,1),e=Mt(e,t,1),t=Se(),e!==null&&(Fn(e,1,t),Te(e,t))}function te(e,t,r){if(e.tag===3)fu(e,e,r);else for(;t!==null;){if(t.tag===3){fu(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(It===null||!It.has(n))){e=$r(r,e),e=kd(t,e,1),t=Mt(t,e,1),e=Se(),t!==null&&(Fn(t,1,e),Te(t,e));break}}t=t.return}}function Qp(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Se(),e.pingedLanes|=e.suspendedLanes&r,ce===e&&(he&r)===r&&(oe===4||oe===3&&(he&130023424)===he&&500>re()-Hl?Zt(e,0):Wl|=r),Te(e,t)}function Vd(e,t){t===0&&(e.mode&1?(t=es,es<<=1,!(es&130023424)&&(es=4194304)):t=1);var r=Se();e=vt(e,t),e!==null&&(Fn(e,t,r),Te(e,r))}function Jp(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Vd(e,r)}function Yp(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(E(314))}n!==null&&n.delete(t),Vd(e,r)}var qd;qd=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Pe.current)Ne=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Ne=!1,$p(e,t,r);Ne=!!(e.flags&131072)}else Ne=!1,J&&t.flags&1048576&&Gc(t,Bs,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Es(e,t),e=t.pendingProps;var s=Mr(t,we.current);Tr(t,r),s=Dl(null,t,n,e,s,r);var i=zl();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Oe(n)?(i=!0,zs(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Ml(t),s.updater=fi,t.stateNode=s,s._reactInternals=t,$o(t,n,e,r),t=Fo(null,t,n,!0,i,r)):(t.tag=0,J&&i&&jl(t),_e(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Es(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=Zp(n),e=Ke(n,e),s){case 0:t=zo(null,t,n,e,r);break e;case 1:t=ru(null,t,n,e,r);break e;case 11:t=eu(null,t,n,e,r);break e;case 14:t=tu(null,t,n,Ke(n.type,e),r);break e}throw Error(E(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Ke(n,s),zo(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Ke(n,s),ru(e,t,n,s,r);case 3:e:{if(jd(t),e===null)throw Error(E(387));n=t.pendingProps,i=t.memoizedState,s=i.element,ed(e,t),Ws(t,n,null,r);var o=t.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=$r(Error(E(423)),t),t=nu(e,t,n,r,s);break e}else if(n!==s){s=$r(Error(E(424)),t),t=nu(e,t,n,r,s);break e}else for(Ae=At(t.stateNode.containerInfo.firstChild),Me=t,J=!0,Je=null,r=Xc(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Ir(),n===s){t=yt(e,t,r);break e}_e(e,t,n,r)}t=t.child}return t;case 5:return td(t),e===null&&Io(t),n=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,Oo(n,s)?o=null:i!==null&&Oo(n,i)&&(t.flags|=32),bd(e,t),_e(e,t,o,r),t.child;case 6:return e===null&&Io(t),null;case 13:return Nd(e,t,r);case 4:return Il(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Rr(t,null,n,r):_e(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Ke(n,s),eu(e,t,n,s,r);case 7:return _e(e,t,t.pendingProps,r),t.child;case 8:return _e(e,t,t.pendingProps.children,r),t.child;case 12:return _e(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,H(Vs,n._currentValue),n._currentValue=o,i!==null)if(Ze(i.value,o)){if(i.children===s.children&&!Pe.current){t=yt(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var a=l.firstContext;a!==null;){if(a.context===n){if(i.tag===1){a=pt(-1,r&-r),a.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?a.next=a:(a.next=d.next,d.next=a),u.pending=a}}i.lanes|=r,a=i.alternate,a!==null&&(a.lanes|=r),Ro(i.return,r,t),l.lanes|=r;break}a=a.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(E(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),Ro(o,r,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}_e(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,Tr(t,r),s=Ve(s),n=n(s),t.flags|=1,_e(e,t,n,r),t.child;case 14:return n=t.type,s=Ke(n,t.pendingProps),s=Ke(n.type,s),tu(e,t,n,s,r);case 15:return Cd(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Ke(n,s),Es(e,t),t.tag=1,Oe(n)?(e=!0,zs(t)):e=!1,Tr(t,r),xd(t,n,s),$o(t,n,s,r),Fo(null,t,n,!0,e,r);case 19:return Pd(e,t,r);case 22:return Ed(e,t,r)}throw Error(E(156,t.tag))};function Wd(e,t){return yc(e,t)}function Xp(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ze(e,t,r,n){return new Xp(e,t,r,n)}function Jl(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Zp(e){if(typeof e=="function")return Jl(e)?1:0;if(e!=null){if(e=e.$$typeof,e===ml)return 11;if(e===gl)return 14}return 2}function Ut(e,t){var r=e.alternate;return r===null?(r=ze(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Ns(e,t,r,n,s,i){var o=2;if(n=e,typeof e=="function")Jl(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case gr:return er(r.children,s,i,t);case pl:o=8,s|=8;break;case lo:return e=ze(12,r,t,s|2),e.elementType=lo,e.lanes=i,e;case ao:return e=ze(13,r,t,s),e.elementType=ao,e.lanes=i,e;case uo:return e=ze(19,r,t,s),e.elementType=uo,e.lanes=i,e;case tc:return mi(r,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Zu:o=10;break e;case ec:o=9;break e;case ml:o=11;break e;case gl:o=14;break e;case St:o=16,n=null;break e}throw Error(E(130,e==null?e:typeof e,""))}return t=ze(o,r,t,s),t.elementType=e,t.type=n,t.lanes=i,t}function er(e,t,r,n){return e=ze(7,e,n,t),e.lanes=r,e}function mi(e,t,r,n){return e=ze(22,e,n,t),e.elementType=tc,e.lanes=r,e.stateNode={isHidden:!1},e}function Yi(e,t,r){return e=ze(6,e,null,t),e.lanes=r,e}function Xi(e,t,r){return t=ze(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function em(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Li(0),this.expirationTimes=Li(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Li(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Yl(e,t,r,n,s,i,o,l,a){return e=new em(e,t,r,l,a),t===1?(t=1,i===!0&&(t|=8)):t=0,i=ze(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ml(i),e}function tm(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:mr,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function Hd(e){if(!e)return Dt;e=e._reactInternals;e:{if(lr(e)!==e||e.tag!==1)throw Error(E(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Oe(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(E(171))}if(e.tag===1){var r=e.type;if(Oe(r))return Hc(e,r,t)}return t}function Kd(e,t,r,n,s,i,o,l,a){return e=Yl(r,n,!0,e,s,i,o,l,a),e.context=Hd(null),r=e.current,n=Se(),s=Rt(r),i=pt(n,s),i.callback=t??null,Mt(r,i,s),e.current.lanes=s,Fn(e,s,n),Te(e,n),e}function gi(e,t,r,n){var s=t.current,i=Se(),o=Rt(s);return r=Hd(r),t.context===null?t.context=r:t.pendingContext=r,t=pt(i,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Mt(s,t,o),e!==null&&(Xe(e,s,o,i),Ss(e,s,o)),o}function Zs(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function hu(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Xl(e,t){hu(e,t),(e=e.alternate)&&hu(e,t)}function rm(){return null}var Gd=typeof reportError=="function"?reportError:function(e){console.error(e)};function Zl(e){this._internalRoot=e}vi.prototype.render=Zl.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(E(409));gi(e,t,null,null)};vi.prototype.unmount=Zl.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ir(function(){gi(null,e,null,null)}),t[gt]=null}};function vi(e){this._internalRoot=e}vi.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ec();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Et.length&&t!==0&&t<Et[r].priority;r++);Et.splice(r,0,e),r===0&&jc(e)}};function ea(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function yi(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function pu(){}function nm(e,t,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var u=Zs(o);i.call(u)}}var o=Kd(t,n,e,0,null,!1,!1,"",pu);return e._reactRootContainer=o,e[gt]=o.current,Pn(e.nodeType===8?e.parentNode:e),ir(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var u=Zs(a);l.call(u)}}var a=Yl(e,0,!1,null,null,!1,!1,"",pu);return e._reactRootContainer=a,e[gt]=a.current,Pn(e.nodeType===8?e.parentNode:e),ir(function(){gi(t,a,r,n)}),a}function wi(e,t,r,n,s){var i=r._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var a=Zs(o);l.call(a)}}gi(t,o,e,s)}else o=nm(r,t,e,s,n);return Zs(o)}kc=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=sn(t.pendingLanes);r!==0&&(wl(t,r|1),Te(t,re()),!(B&6)&&(Dr=re()+500,Bt()))}break;case 13:ir(function(){var n=vt(e,1);if(n!==null){var s=Se();Xe(n,e,1,s)}}),Xl(e,1)}};_l=function(e){if(e.tag===13){var t=vt(e,134217728);if(t!==null){var r=Se();Xe(t,e,134217728,r)}Xl(e,134217728)}};Cc=function(e){if(e.tag===13){var t=Rt(e),r=vt(e,t);if(r!==null){var n=Se();Xe(r,e,t,n)}Xl(e,t)}};Ec=function(){return V};bc=function(e,t){var r=V;try{return V=e,t()}finally{V=r}};_o=function(e,t,r){switch(t){case"input":if(ho(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=ui(n);if(!s)throw Error(E(90));nc(n),ho(n,s)}}}break;case"textarea":ic(e,r);break;case"select":t=r.value,t!=null&&jr(e,!!r.multiple,t,!1)}};fc=Kl;hc=ir;var sm={usingClientEntryPoint:!1,Events:[Vn,_r,ui,cc,dc,Kl]},en={findFiberByHostInstance:Jt,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},im={bundleType:en.bundleType,version:en.version,rendererPackageName:en.rendererPackageName,rendererConfig:en.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:wt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=gc(e),e===null?null:e.stateNode},findFiberByHostInstance:en.findFiberByHostInstance||rm,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ds=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ds.isDisabled&&ds.supportsFiber)try{ii=ds.inject(im),it=ds}catch{}}Re.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sm;Re.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ea(t))throw Error(E(200));return tm(e,t,null,r)};Re.createRoot=function(e,t){if(!ea(e))throw Error(E(299));var r=!1,n="",s=Gd;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Yl(e,1,!1,null,null,r,!1,n,s),e[gt]=t.current,Pn(e.nodeType===8?e.parentNode:e),new Zl(t)};Re.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(E(188)):(e=Object.keys(e).join(","),Error(E(268,e)));return e=gc(t),e=e===null?null:e.stateNode,e};Re.flushSync=function(e){return ir(e)};Re.hydrate=function(e,t,r){if(!yi(t))throw Error(E(200));return wi(null,e,t,!0,r)};Re.hydrateRoot=function(e,t,r){if(!ea(e))throw Error(E(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",o=Gd;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=Kd(t,null,e,1,r??null,s,!1,i,o),e[gt]=t.current,Pn(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new vi(t)};Re.render=function(e,t,r){if(!yi(t))throw Error(E(200));return wi(null,e,t,!1,r)};Re.unmountComponentAtNode=function(e){if(!yi(e))throw Error(E(40));return e._reactRootContainer?(ir(function(){wi(null,null,e,!1,function(){e._reactRootContainer=null,e[gt]=null})}),!0):!1};Re.unstable_batchedUpdates=Kl;Re.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!yi(r))throw Error(E(200));if(e==null||e._reactInternals===void 0)throw Error(E(38));return wi(e,t,r,!1,n)};Re.version="18.3.1-next-f1338f8080-20240426";function Qd(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Qd)}catch(e){console.error(e)}}Qd(),Qu.exports=Re;var om=Qu.exports,mu=om;io.createRoot=mu.createRoot,io.hydrateRoot=mu.hydrateRoot;const ei=({className:e})=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),Jd=({className:e})=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"})}),lm=({className:e})=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12h3.75M9 15h3.75M9 18h3.75m3 .75H18a2.25 2.25 0 0 0 2.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 0 0-1.123-.08m-5.801 0c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 0 0 .75-.75 2.25 2.25 0 0 0-.1-.664m-5.8 0A2.251 2.251 0 0 1 5.25 6h.008a2.25 2.25 0 0 1 2.242 2.15 48.452 48.452 0 0 0 1.123.08m-5.801 0c.065.21.1.433.1.664v3.536c0 .414.336.75.75.75h4.5a.75.75 0 0 0 .75-.75V6.75a2.25 2.25 0 0 0-.1-.664m-5.8 0A2.251 2.251 0 0 1 5.25 6h.008a2.25 2.25 0 0 1 2.242 2.15 48.452 48.452 0 0 0 1.123.08"})}),am=({className:e})=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})}),Yd=({className:e})=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"})}),Xd=({className:e})=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"})}),Zd=({className:e})=>c.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:[c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.72 13.829c-.24.03-.48.062-.72.096m.72-.096a42.415 42.415 0 0 1 10.56 0m-10.56 0L6.34 18m10.94-4.171c.24.03.48.062.72.096m-.72-.096L17.66 18m0 0 .229 2.523a1.125 1.125 0 0 1-1.12 1.227H7.231c-.662 0-1.18-.568-1.12-1.227L6.34 18m11.32 0a42.671 42.671 0 0 0-10.94 0"}),c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 7.5h-9a.75.75 0 0 0-.75.75v3.75c0 .414.336.75.75.75h9a.75.75 0 0 0 .75-.75v-3.75a.75.75 0 0 0-.75-.75Z"})]}),ef=({className:e})=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:e,fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"})}),tf=({className:e})=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e,children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5m-13.5-9L12 3m0 0 4.5 4.5M12 3v13.5"})}),ti=({className:e})=>c.jsxs("svg",{className:`animate-spin ${e}`,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[c.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),c.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),rf=({className:e})=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e,children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.75 9.75l4.5 4.5m0-4.5l-4.5 4.5M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),$n=({className:e})=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e,children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"})}),nf=({className:e})=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:e,children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})}),um="modulepreload",cm=function(e){return"/Traitement-app/"+e},gu={},Wn=function(t,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(r.map(a=>{if(a=cm(a),a in gu)return;gu[a]=!0;const u=a.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${a}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":um,u||(f.as="script"),f.crossOrigin="",f.href=a,l&&f.setAttribute("nonce",l),document.head.appendChild(f),u)return new Promise((g,v)=>{f.addEventListener("load",g),f.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${a}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return s.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return t().catch(i)})},dm=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Wn(async()=>{const{default:n}=await Promise.resolve().then(()=>qr);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class ta extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class fm extends ta{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class hm extends ta{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class pm extends ta{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Zo;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Zo||(Zo={}));var mm=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function a(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(l,a)}u((n=n.apply(e,t||[])).next())})};class gm{constructor(t,{headers:r={},customFetch:n,region:s=Zo.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=dm(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return mm(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o}=r;let l={},{region:a}=r;a||(a=this.region),a&&a!=="any"&&(l["x-region"]=a);let u;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",u=o):typeof o=="string"?(l["Content-Type"]="text/plain",u=o):typeof FormData<"u"&&o instanceof FormData?u=o:(l["Content-Type"]="application/json",u=JSON.stringify(o)));const d=yield this.fetch(`${this.url}/${t}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),s),body:u}).catch(w=>{throw new fm(w)}),f=d.headers.get("x-relay-error");if(f&&f==="true")throw new hm(d);if(!d.ok)throw new pm(d);let g=((n=d.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),v;return g==="application/json"?v=yield d.json():g==="application/octet-stream"?v=yield d.blob():g==="text/event-stream"?v=d:g==="multipart/form-data"?v=yield d.formData():v=yield d.text(),{data:v,error:null}}catch(s){return{data:null,error:s}}})}}var je={},ra={},_i={},Hn={},xi={},Si={},vm=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},zr=vm();const ym=zr.fetch,sf=zr.fetch.bind(zr),of=zr.Headers,wm=zr.Request,_m=zr.Response,qr=Object.freeze(Object.defineProperty({__proto__:null,Headers:of,Request:wm,Response:_m,default:sf,fetch:ym},Symbol.toStringTag,{value:"Module"})),xm=Mf(qr);var ki={};Object.defineProperty(ki,"__esModule",{value:!0});let Sm=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};ki.default=Sm;var lf=Be&&Be.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Si,"__esModule",{value:!0});const km=lf(xm),Cm=lf(ki);let Em=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=km.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=Object.assign({},this.headers),this.headers[t]=r,this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,l,a;let u=null,d=null,f=null,g=i.status,v=i.statusText;if(i.ok){if(this.method!=="HEAD"){const m=await i.text();m===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=m:d=JSON.parse(m))}const S=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),j=(l=i.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");S&&j&&j.length>1&&(f=parseInt(j[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,f=null,g=406,v="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const S=await i.text();try{u=JSON.parse(S),Array.isArray(u)&&i.status===404&&(d=[],u=null,g=200,v="OK")}catch{i.status===404&&S===""?(g=204,v="No Content"):u={message:S}}if(u&&this.isMaybeSingle&&(!((a=u==null?void 0:u.details)===null||a===void 0)&&a.includes("0 rows"))&&(u=null,g=200,v="OK"),u&&this.shouldThrowOnError)throw new Cm.default(u)}return{error:u,data:d,count:f,status:g,statusText:v}});return this.shouldThrowOnError||(s=s.catch(i=>{var o,l,a;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(l=i==null?void 0:i.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(a=i==null?void 0:i.code)!==null&&a!==void 0?a:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,r)}returns(){return this}overrideTypes(){return this}};Si.default=Em;var bm=Be&&Be.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(xi,"__esModule",{value:!0});const jm=bm(Si);let Nm=class extends jm.default{select(t){let r=!1;const n=(t??"*").split("").map(s=>/\s/.test(s)&&!r?"":(s==='"'&&(r=!r),s)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:s=n}={}){const i=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(o,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:s=!1,wal:i=!1,format:o="text"}={}){var l;const a=[t?"analyze":null,r?"verbose":null,n?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${u}"; options=${a};`,o==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};xi.default=Nm;var Pm=Be&&Be.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Hn,"__esModule",{value:!0});const Om=Pm(xi);let Tm=class extends Om.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${i}fts${o}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};Hn.default=Tm;var Lm=Be&&Be.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(_i,"__esModule",{value:!0});const tn=Lm(Hn);let Am=class{constructor(t,{headers:r={},schema:n,fetch:s}){this.url=t,this.headers=r,this.schema=n,this.fetch=s}select(t,{head:r=!1,count:n}={}){const s=r?"HEAD":"GET";let i=!1;const o=(t??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",o),n&&(this.headers.Prefer=`count=${n}`),new tn.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:r,defaultToNull:n=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),r&&i.push(`count=${r}`),n||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(t)){const o=t.reduce((l,a)=>l.concat(Object.keys(a)),[]);if(o.length>0){const l=[...new Set(o)].map(a=>`"${a}"`);this.url.searchParams.set("columns",l.join(","))}}return new tn.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:s,defaultToNull:i=!0}={}){const o="POST",l=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&l.push(this.headers.Prefer),s&&l.push(`count=${s}`),i||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(t)){const a=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(a.length>0){const u=[...new Set(a)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new tn.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:r}={}){const n="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),r&&s.push(`count=${r}`),this.headers.Prefer=s.join(","),new tn.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const r="DELETE",n=[];return t&&n.push(`count=${t}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new tn.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};_i.default=Am;var Ci={},Ei={};Object.defineProperty(Ei,"__esModule",{value:!0});Ei.version=void 0;Ei.version="0.0.0-automated";Object.defineProperty(Ci,"__esModule",{value:!0});Ci.DEFAULT_HEADERS=void 0;const Mm=Ei;Ci.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${Mm.version}`};var af=Be&&Be.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ra,"__esModule",{value:!0});const Im=af(_i),Rm=af(Hn),Um=Ci;let $m=class uf{constructor(t,{headers:r={},schema:n,fetch:s}={}){this.url=t,this.headers=Object.assign(Object.assign({},Um.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=s}from(t){const r=new URL(`${this.url}/${t}`);return new Im.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new uf(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:s=!1,count:i}={}){let o;const l=new URL(`${this.url}/rpc/${t}`);let a;n||s?(o=n?"HEAD":"GET",Object.entries(r).filter(([d,f])=>f!==void 0).map(([d,f])=>[d,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([d,f])=>{l.searchParams.append(d,f)})):(o="POST",a=r);const u=Object.assign({},this.headers);return i&&(u.Prefer=`count=${i}`),new Rm.default({method:o,url:l,headers:u,schema:this.schemaName,body:a,fetch:this.fetch,allowEmpty:!1})}};ra.default=$m;var Wr=Be&&Be.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(je,"__esModule",{value:!0});je.PostgrestError=je.PostgrestBuilder=je.PostgrestTransformBuilder=je.PostgrestFilterBuilder=je.PostgrestQueryBuilder=je.PostgrestClient=void 0;const cf=Wr(ra);je.PostgrestClient=cf.default;const df=Wr(_i);je.PostgrestQueryBuilder=df.default;const ff=Wr(Hn);je.PostgrestFilterBuilder=ff.default;const hf=Wr(xi);je.PostgrestTransformBuilder=hf.default;const pf=Wr(Si);je.PostgrestBuilder=pf.default;const mf=Wr(ki);je.PostgrestError=mf.default;var Dm=je.default={PostgrestClient:cf.default,PostgrestQueryBuilder:df.default,PostgrestFilterBuilder:ff.default,PostgrestTransformBuilder:hf.default,PostgrestBuilder:pf.default,PostgrestError:mf.default};const{PostgrestClient:zm,PostgrestQueryBuilder:Bv,PostgrestFilterBuilder:Vv,PostgrestTransformBuilder:qv,PostgrestBuilder:Wv,PostgrestError:Hv}=Dm;function Fm(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const Bm=Fm(),Vm="2.11.15",qm=`realtime-js/${Vm}`,Wm="1.0.0",gf=1e4,Hm=1e3;var vn;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(vn||(vn={}));var ve;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(ve||(ve={}));var Qe;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Qe||(Qe={}));var el;(function(e){e.websocket="websocket"})(el||(el={}));var Qt;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Qt||(Qt={}));class Km{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const s=r.getUint8(1),i=r.getUint8(2);let o=this.HEADER_LENGTH+2;const l=n.decode(t.slice(o,o+s));o=o+s;const a=n.decode(t.slice(o,o+i));o=o+i;const u=JSON.parse(n.decode(t.slice(o,t.byteLength)));return{ref:null,topic:l,event:a,payload:u}}}class vf{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var W;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(W||(W={}));const vu=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((i,o)=>(i[o]=Gm(o,e,t,s),i),{})},Gm=(e,t,r,n)=>{const s=t.find(l=>l.name===e),i=s==null?void 0:s.type,o=r[e];return i&&!n.includes(i)?yf(i,o):tl(o)},yf=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return Xm(t,r)}switch(e){case W.bool:return Qm(t);case W.float4:case W.float8:case W.int2:case W.int4:case W.int8:case W.numeric:case W.oid:return Jm(t);case W.json:case W.jsonb:return Ym(t);case W.timestamp:return Zm(t);case W.abstime:case W.date:case W.daterange:case W.int4range:case W.int8range:case W.money:case W.reltime:case W.text:case W.time:case W.timestamptz:case W.timetz:case W.tsrange:case W.tstzrange:return tl(t);default:return tl(t)}},tl=e=>e,Qm=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Jm=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},Ym=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},Xm=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const o=e.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>yf(t,l))}return e},Zm=e=>typeof e=="string"?e.replace(" ","T"):e,wf=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class Zi{constructor(t,r,n={},s=gf){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var yu;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(yu||(yu={}));class yn{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=yn.syncState(this.state,s,i,o),this.pendingDiffs.forEach(a=>{this.state=yn.syncDiff(this.state,a,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=yn.syncDiff(this.state,s,i,o),l())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const i=this.cloneDeep(t),o=this.transformState(r),l={},a={};return this.map(i,(u,d)=>{o[u]||(a[u]=d)}),this.map(o,(u,d)=>{const f=i[u];if(f){const g=d.map(j=>j.presence_ref),v=f.map(j=>j.presence_ref),w=d.filter(j=>v.indexOf(j.presence_ref)<0),S=f.filter(j=>g.indexOf(j.presence_ref)<0);w.length>0&&(l[u]=w),S.length>0&&(a[u]=S)}else l[u]=d}),this.syncDiff(i,{joins:l,leaves:a},n,s)}static syncDiff(t,r,n,s){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(l,a)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(a),d.length>0){const f=t[l].map(v=>v.presence_ref),g=d.filter(v=>f.indexOf(v.presence_ref)<0);t[l].unshift(...g)}n(l,d,a)}),this.map(o,(l,a)=>{let u=t[l];if(!u)return;const d=a.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[l]=u,s(l,u,a),u.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var wu;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(wu||(wu={}));var _u;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(_u||(_u={}));var ct;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(ct||(ct={}));class na{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=ve.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Zi(this,Qe.join,this.params,this.timeout),this.rejoinTimer=new vf(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ve.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ve.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=ve.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ve.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Qe.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new yn(this),this.broadcastEndpointURL=wf(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,s;if(this.socket.isConnected()||this.socket.connect(),this.state==ve.closed){const{config:{broadcast:i,presence:o,private:l}}=this.params;this._onError(d=>t==null?void 0:t(ct.CHANNEL_ERROR,d)),this._onClose(()=>t==null?void 0:t(ct.CLOSED));const a={},u={broadcast:i,presence:o,postgres_changes:(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(d=>d.filter))!==null&&s!==void 0?s:[],private:l};this.socket.accessTokenValue&&(a.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},a)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:d})=>{var f;if(this.socket.setAuth(),d===void 0){t==null||t(ct.SUBSCRIBED);return}else{const g=this.bindings.postgres_changes,v=(f=g==null?void 0:g.length)!==null&&f!==void 0?f:0,w=[];for(let S=0;S<v;S++){const j=g[S],{filter:{event:m,schema:p,table:h,filter:y}}=j,C=d&&d[S];if(C&&C.event===m&&C.schema===p&&C.table===h&&C.filter===y)w.push(Object.assign(Object.assign({},j),{id:C.id}));else{this.unsubscribe(),this.state=ve.errored,t==null||t(ct.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=w,t&&t(ct.SUBSCRIBED);return}}).receive("error",d=>{this.state=ve.errored,t==null||t(ct.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(ct.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this._on(t,r,n)}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:o}=t,a={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,a;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((a=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||a===void 0)&&a.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=ve.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Qe.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new Zi(this,Qe.leave,{},t),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(t,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Zi(this,t,r,n);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,i;const o=t.toLocaleLowerCase(),{close:l,error:a,leave:u,join:d}=Qe;if(n&&[l,a,u,d].indexOf(o)>=0&&n!==this._joinRef())return;let g=this._onMessage(o,r,n);if(r&&!g)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(v=>{var w,S,j;return((w=v.filter)===null||w===void 0?void 0:w.event)==="*"||((j=(S=v.filter)===null||S===void 0?void 0:S.event)===null||j===void 0?void 0:j.toLocaleLowerCase())===o}).map(v=>v.callback(g,n)):(i=this.bindings[o])===null||i===void 0||i.filter(v=>{var w,S,j,m,p,h;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in v){const y=v.id,C=(w=v.filter)===null||w===void 0?void 0:w.event;return y&&((S=r.ids)===null||S===void 0?void 0:S.includes(y))&&(C==="*"||(C==null?void 0:C.toLocaleLowerCase())===((j=r.data)===null||j===void 0?void 0:j.type.toLocaleLowerCase()))}else{const y=(p=(m=v==null?void 0:v.filter)===null||m===void 0?void 0:m.event)===null||p===void 0?void 0:p.toLocaleLowerCase();return y==="*"||y===((h=r==null?void 0:r.event)===null||h===void 0?void 0:h.toLocaleLowerCase())}else return v.type.toLocaleLowerCase()===o}).map(v=>{if(typeof g=="object"&&"ids"in g){const w=g.data,{schema:S,table:j,commit_timestamp:m,type:p,errors:h}=w;g=Object.assign(Object.assign({},{schema:S,table:j,commit_timestamp:m,eventType:p,new:{},old:{},errors:h}),this._getPayloadRecords(w))}v.callback(g,n)})}_isClosed(){return this.state===ve.closed}_isJoined(){return this.state===ve.joined}_isJoining(){return this.state===ve.joining}_isLeaving(){return this.state===ve.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&na.isEqual(s.filter,r))}),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Qe.close,{},t)}_onError(t){this._on(Qe.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ve.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=vu(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=vu(t.columns,t.old_record)),r}}const xu=()=>{},eg=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class tg{constructor(t,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=gf,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=xu,this.ref=0,this.logger=xu,this.conn=null,this.sendBuffer=[],this.serializer=new Km,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...l)=>Wn(async()=>{const{default:a}=await Promise.resolve().then(()=>qr);return{default:a}},void 0).then(({default:a})=>a(...l)):o=fetch,(...l)=>o(...l)},this.endPoint=`${t}/${el.websocket}`,this.httpEndpoint=wf(t),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),(r!=null&&r.logLevel||r!=null&&r.log_level)&&(this.logLevel=r.logLevel||r.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const s=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(i,o)=>o(JSON.stringify(i)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new vf(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=Bm),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Wm}))}disconnect(t,r){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(n=>n.teardown()))}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case vn.connecting:return Qt.Connecting;case vn.open:return Qt.Open;case vn.closing:return Qt.Closing;default:return Qt.Closed}}isConnected(){return this.connectionState()===Qt.Open}channel(t,r={config:{}}){const n=`realtime:${t}`,s=this.getChannels().find(i=>i.topic===n);if(s)return s;{const i=new na(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:n,payload:s,ref:i}=t,o=()=>{this.encode(t,l=>{var a;(a=this.conn)===null||a===void 0||a.send(l)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){let r=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const s={access_token:r,version:qm};r&&n.updateJoinPayload(s),n.joinedOnce&&n._isJoined()&&n._push(Qe.access_token,{access_token:r})}))}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(t=this.conn)===null||t===void 0||t.close(Hm,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,r=>{let{topic:n,event:s,payload:i,ref:o}=r;n==="phoenix"&&s==="phx_reply"&&this.heartbeatCallback(r.payload.status=="ok"?"ok":"error"),o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${n} ${s} ${o&&"("+o+")"||""}`,i),Array.from(this.channels).filter(l=>l._isMember(n)).forEach(l=>l._trigger(s,i,o)),this.stateChangeCallbacks.message.forEach(l=>l(r))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(t=>t())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(t))}_onConnError(t){this.log("transport",`${t}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(Qe.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([eg],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class sa extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function ae(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class rg extends sa{constructor(t,r){super(t),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class rl extends sa{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var ng=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function a(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(l,a)}u((n=n.apply(e,t||[])).next())})};const _f=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Wn(async()=>{const{default:n}=await Promise.resolve().then(()=>qr);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},sg=()=>ng(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Wn(()=>Promise.resolve().then(()=>qr),void 0)).Response:Response}),nl=e=>{if(Array.isArray(e))return e.map(r=>nl(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=nl(n)}),t};var ar=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function a(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(l,a)}u((n=n.apply(e,t||[])).next())})};const eo=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),ig=(e,t,r)=>ar(void 0,void 0,void 0,function*(){const n=yield sg();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(s=>{t(new rg(eo(s),e.status||500))}).catch(s=>{t(new rl(eo(s),s))}):t(new rl(eo(e),e))}),og=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),n&&(s.body=JSON.stringify(n)),Object.assign(Object.assign({},s),r))};function Kn(e,t,r,n,s,i){return ar(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(r,og(t,n,s,i)).then(a=>{if(!a.ok)throw a;return n!=null&&n.noResolveJson?a:a.json()}).then(a=>o(a)).catch(a=>ig(a,l,n))})})}function ri(e,t,r,n){return ar(this,void 0,void 0,function*(){return Kn(e,"GET",t,r,n)})}function Ct(e,t,r,n,s){return ar(this,void 0,void 0,function*(){return Kn(e,"POST",t,n,s,r)})}function lg(e,t,r,n,s){return ar(this,void 0,void 0,function*(){return Kn(e,"PUT",t,n,s,r)})}function ag(e,t,r,n){return ar(this,void 0,void 0,function*(){return Kn(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function xf(e,t,r,n,s){return ar(this,void 0,void 0,function*(){return Kn(e,"DELETE",t,n,s,r)})}var Ee=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function a(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(l,a)}u((n=n.apply(e,t||[])).next())})};const ug={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Su={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class cg{constructor(t,r={},n,s){this.url=t,this.headers=r,this.bucketId=n,this.fetch=_f(s)}uploadOrUpdate(t,r,n,s){return Ee(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},Su),s);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const a=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),a&&i.append("metadata",this.encodeMetadata(a)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",o.cacheControl),a&&i.append("metadata",this.encodeMetadata(a))):(i=n,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,a&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(a)))),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),f=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:t,body:i,headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{})),g=yield f.json();return f.ok?{data:{path:u,id:g.Id,fullPath:g.Key},error:null}:{data:null,error:g}}catch(i){if(ae(i))return{data:null,error:i};throw i}})}upload(t,r,n){return Ee(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,s){return Ee(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",r);try{let a;const u=Object.assign({upsert:Su.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(a=new FormData,a.append("cacheControl",u.cacheControl),a.append("",n)):typeof FormData<"u"&&n instanceof FormData?(a=n,a.append("cacheControl",u.cacheControl)):(a=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const f=yield this.fetch(l.toString(),{method:"PUT",body:a,headers:d}),g=yield f.json();return f.ok?{data:{path:i,fullPath:g.Key},error:null}:{data:null,error:g}}catch(a){if(ae(a))return{data:null,error:a};throw a}})}createSignedUploadUrl(t,r){return Ee(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const i=yield Ct(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),o=new URL(this.url+i.url),l=o.searchParams.get("token");if(!l)throw new sa("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:l},error:null}}catch(n){if(ae(n))return{data:null,error:n};throw n}})}update(t,r,n){return Ee(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return Ee(this,void 0,void 0,function*(){try{return{data:yield Ct(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(ae(s))return{data:null,error:s};throw s}})}copy(t,r,n){return Ee(this,void 0,void 0,function*(){try{return{data:{path:(yield Ct(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(ae(s))return{data:null,error:s};throw s}})}createSignedUrl(t,r,n){return Ee(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),i=yield Ct(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(ae(s))return{data:null,error:s};throw s}})}createSignedUrls(t,r,n){return Ee(this,void 0,void 0,function*(){try{const s=yield Ct(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(ae(s))return{data:null,error:s};throw s}})}download(t,r){return Ee(this,void 0,void 0,function*(){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=i?`?${i}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield ri(this.fetch,`${this.url}/${s}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(ae(l))return{data:null,error:l};throw l}})}info(t){return Ee(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield ri(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:nl(n),error:null}}catch(n){if(ae(n))return{data:null,error:n};throw n}})}exists(t){return Ee(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield ag(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(ae(n)&&n instanceof rl){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),s=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&s.push(i);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",a=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});a!==""&&s.push(a);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${u}`)}}}remove(t){return Ee(this,void 0,void 0,function*(){try{return{data:yield xf(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(ae(r))return{data:null,error:r};throw r}})}list(t,r,n){return Ee(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},ug),r),{prefix:t||""});return{data:yield Ct(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(ae(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const dg="2.7.1",fg={"X-Client-Info":`storage-js/${dg}`};var cr=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function a(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(l,a)}u((n=n.apply(e,t||[])).next())})};class hg{constructor(t,r={},n){this.url=t,this.headers=Object.assign(Object.assign({},fg),r),this.fetch=_f(n)}listBuckets(){return cr(this,void 0,void 0,function*(){try{return{data:yield ri(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(ae(t))return{data:null,error:t};throw t}})}getBucket(t){return cr(this,void 0,void 0,function*(){try{return{data:yield ri(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(ae(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return cr(this,void 0,void 0,function*(){try{return{data:yield Ct(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(ae(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return cr(this,void 0,void 0,function*(){try{return{data:yield lg(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(ae(n))return{data:null,error:n};throw n}})}emptyBucket(t){return cr(this,void 0,void 0,function*(){try{return{data:yield Ct(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(ae(r))return{data:null,error:r};throw r}})}deleteBucket(t){return cr(this,void 0,void 0,function*(){try{return{data:yield xf(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(ae(r))return{data:null,error:r};throw r}})}}class pg extends hg{constructor(t,r={},n){super(t,r,n)}from(t){return new cg(this.url,this.headers,t,this.fetch)}}const mg="2.50.2";let ln="";typeof Deno<"u"?ln="deno":typeof document<"u"?ln="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ln="react-native":ln="node";const gg={"X-Client-Info":`supabase-js-${ln}/${mg}`},vg={headers:gg},yg={schema:"public"},wg={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},_g={};var xg=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function a(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(l,a)}u((n=n.apply(e,t||[])).next())})};const Sg=e=>{let t;return e?t=e:typeof fetch>"u"?t=sf:t=fetch,(...r)=>t(...r)},kg=()=>typeof Headers>"u"?of:Headers,Cg=(e,t,r)=>{const n=Sg(r),s=kg();return(i,o)=>xg(void 0,void 0,void 0,function*(){var l;const a=(l=yield t())!==null&&l!==void 0?l:e;let u=new s(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${a}`),n(i,Object.assign(Object.assign({},o),{headers:u}))})};var Eg=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function a(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(l,a)}u((n=n.apply(e,t||[])).next())})};function bg(e){return e.endsWith("/")?e:e+"/"}function jg(e,t){var r,n;const{db:s,auth:i,realtime:o,global:l}=e,{db:a,auth:u,realtime:d,global:f}=t,g={db:Object.assign(Object.assign({},a),s),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},d),o),global:Object.assign(Object.assign(Object.assign({},f),l),{headers:Object.assign(Object.assign({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>Eg(this,void 0,void 0,function*(){return""})};return e.accessToken?g.accessToken=e.accessToken:delete g.accessToken,g}const Sf="2.70.0",pr=30*1e3,sl=3,to=sl*pr,Ng="http://localhost:9999",Pg="supabase.auth.token",Og={"X-Client-Info":`gotrue-js/${Sf}`},il="X-Supabase-Api-Version",kf={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Tg=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Lg=6e5;class ia extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function R(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class Ag extends ia{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function Mg(e){return R(e)&&e.name==="AuthApiError"}class Cf extends ia{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Vt extends ia{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class xt extends Vt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Ig(e){return R(e)&&e.name==="AuthSessionMissingError"}class fs extends Vt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class hs extends Vt{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class ps extends Vt{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Rg(e){return R(e)&&e.name==="AuthImplicitGrantRedirectError"}class ku extends Vt{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class ol extends Vt{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function ro(e){return R(e)&&e.name==="AuthRetryableFetchError"}class Cu extends Vt{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class wn extends Vt{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const ni="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Eu=` 	
\r=`.split(""),Ug=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Eu.length;t+=1)e[Eu[t].charCodeAt(0)]=-2;for(let t=0;t<ni.length;t+=1)e[ni[t].charCodeAt(0)]=t;return e})();function bu(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(ni[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(ni[n]),t.queuedBits-=6}}function Ef(e,t,r){const n=Ug[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function ju(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{zg(o,n,r)};for(let o=0;o<e.length;o+=1)Ef(e.charCodeAt(o),s,i);return t.join("")}function $g(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function Dg(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}$g(n,t)}}function zg(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function Fg(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)Ef(e.charCodeAt(s),r,n);return new Uint8Array(t)}function Bg(e){const t=[];return Dg(e,r=>t.push(r)),new Uint8Array(t)}function Vg(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};return e.forEach(s=>bu(s,r,n)),bu(null,r,n),t.join("")}function qg(e){return Math.round(Date.now()/1e3)+e}function Wg(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const He=()=>typeof window<"u"&&typeof document<"u",Wt={tested:!1,writable:!1},_n=()=>{if(!He())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Wt.tested)return Wt.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Wt.tested=!0,Wt.writable=!0}catch{Wt.tested=!0,Wt.writable=!1}return Wt.writable};function Hg(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const bf=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Wn(async()=>{const{default:n}=await Promise.resolve().then(()=>qr);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},Kg=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",jf=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},ms=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},gs=async(e,t)=>{await e.removeItem(t)};class bi{constructor(){this.promise=new bi.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}bi.promiseConstructor=Promise;function no(e){const t=e.split(".");if(t.length!==3)throw new wn("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!Tg.test(t[n]))throw new wn("JWT not in base64url format");return{header:JSON.parse(ju(t[0])),payload:JSON.parse(ju(t[1])),signature:Fg(t[2]),raw:{header:t[0],payload:t[1]}}}async function Gg(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function Qg(e,t){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){n(o);return}}catch(o){if(!t(i,o)){s(o);return}}})()})}function Jg(e){return("0"+e.toString(16)).substr(-2)}function Yg(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,Jg).join("")}async function Xg(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function Zg(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await Xg(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function dr(e,t,r=!1){const n=Yg();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await jf(e,`${t}-code-verifier`,s);const i=await Zg(n);return[i,n===i?"plain":"s256"]}const ev=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function tv(e){const t=e.headers.get(il);if(!t||!t.match(ev))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function rv(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function nv(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const sv=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function fr(e){if(!sv.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}var iv=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};const Gt=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),ov=[502,503,504];async function Nu(e){var t;if(!Kg(e))throw new ol(Gt(e),0);if(ov.includes(e.status))throw new ol(Gt(e),e.status);let r;try{r=await e.json()}catch(i){throw new Cf(Gt(i),i)}let n;const s=tv(e);if(s&&s.getTime()>=kf["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Cu(Gt(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new xt}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new Cu(Gt(r),e.status,r.weak_password.reasons);throw new Ag(Gt(r),e.status||500,n)}const lv=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function z(e,t,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[il]||(i[il]=kf["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",a=await av(e,t,r+l,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(a):{data:Object.assign({},a),error:null}}async function av(e,t,r,n,s,i){const o=lv(t,n,s,i);let l;try{l=await e(r,Object.assign({},o))}catch(a){throw console.error(a),new ol(Gt(a),0)}if(l.ok||await Nu(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(a){await Nu(a)}}function at(e){var t;let r=null;fv(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=qg(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function Pu(e){const t=at(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function jt(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function uv(e){return{data:e,error:null}}function cv(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=e,o=iv(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},a=Object.assign({},o);return{data:{properties:l,user:a},error:null}}function dv(e){return e}function fv(e){return e.access_token&&e.refresh_token&&e.expires_in}const so=["global","local","others"];var hv=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};class pv{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=bf(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r=so[0]){if(so.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${so.join(", ")}`);try{return await z(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(R(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await z(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:jt})}catch(n){if(R(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=hv(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await z(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:cv,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(R(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await z(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:jt})}catch(r){if(R(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,i,o,l,a;try{const u={nextPage:null,lastPage:0,total:0},d=await z(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:dv});if(d.error)throw d.error;const f=await d.json(),g=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,v=(a=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&a!==void 0?a:[];return v.length>0&&(v.forEach(w=>{const S=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),j=JSON.parse(w.split(";")[1].split("=")[1]);u[`${j}Page`]=S}),u.total=parseInt(g)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(R(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){fr(t);try{return await z(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:jt})}catch(r){if(R(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){fr(t);try{return await z(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:jt})}catch(n){if(R(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){fr(t);try{return await z(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:jt})}catch(n){if(R(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){fr(t.userId);try{const{data:r,error:n}=await z(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(R(r))return{data:null,error:r};throw r}}async _deleteFactor(t){fr(t.userId),fr(t.id);try{return{data:await z(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(R(r))return{data:null,error:r};throw r}}}const mv={getItem:e=>_n()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{_n()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{_n()&&globalThis.localStorage.removeItem(e)}};function Ou(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function gv(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const hr={debug:!!(globalThis&&_n()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Nf extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class vv extends Nf{}async function yv(e,t,r){hr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),hr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){hr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{hr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw hr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new vv(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(hr.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}gv();const wv={url:Ng,storageKey:Pg,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Og,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Tu(e,t,r){return await r()}class Dn{constructor(t){var r,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Dn.nextInstanceID,Dn.nextInstanceID+=1,this.instanceID>0&&He()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},wv),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new pv({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=bf(s.fetch),this.lock=s.lock||Tu,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:He()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=yv:this.lock=Tu,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:_n()?this.storage=mv:(this.memoryStorage={},this.storage=Ou(this.memoryStorage)):(this.memoryStorage={},this.storage=Ou(this.memoryStorage)),He()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Sf}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=Hg(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),He()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),Rg(i)){const a=(t=i.details)===null||t===void 0?void 0:t.code;if(a==="identity_already_exists"||a==="identity_not_found"||a==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return R(r)?{error:r}:{error:new Cf("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const i=await z(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:at}),{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const a=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",a)),{data:{user:u,session:a},error:null}}catch(i){if(R(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var r,n,s;try{let i;if("email"in t){const{email:d,password:f,options:g}=t;let v=null,w=null;this.flowType==="pkce"&&([v,w]=await dr(this.storage,this.storageKey)),i=await z(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:g==null?void 0:g.emailRedirectTo,body:{email:d,password:f,data:(r=g==null?void 0:g.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken},code_challenge:v,code_challenge_method:w},xform:at})}else if("phone"in t){const{phone:d,password:f,options:g}=t;i=await z(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=g==null?void 0:g.data)!==null&&n!==void 0?n:{},channel:(s=g==null?void 0:g.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken}},xform:at})}else throw new hs("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const a=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",a)),{data:{user:u,session:a},error:null}}catch(i){if(R(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:o,options:l}=t;r=await z(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Pu})}else if("phone"in t){const{phone:i,password:o,options:l}=t;r=await z(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Pu})}else throw new hs("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new fs}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(R(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;if(r==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(t){var r,n,s,i,o,l,a,u,d,f,g,v;let w,S;if("message"in t)w=t.message,S=t.signature;else{const{chain:j,wallet:m,statement:p,options:h}=t;let y;if(He())if(typeof m=="object")y=m;else{const b=window;if("solana"in b&&typeof b.solana=="object"&&("signIn"in b.solana&&typeof b.solana.signIn=="function"||"signMessage"in b.solana&&typeof b.solana.signMessage=="function"))y=b.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof m!="object"||!(h!=null&&h.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");y=m}const C=new URL((r=h==null?void 0:h.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in y&&y.signIn){const b=await y.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},h==null?void 0:h.signInWithSolana),{version:"1",domain:C.host,uri:C.href}),p?{statement:p}:null));let N;if(Array.isArray(b)&&b[0]&&typeof b[0]=="object")N=b[0];else if(b&&typeof b=="object"&&"signedMessage"in b&&"signature"in b)N=b;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in N&&"signature"in N&&(typeof N.signedMessage=="string"||N.signedMessage instanceof Uint8Array)&&N.signature instanceof Uint8Array)w=typeof N.signedMessage=="string"?N.signedMessage:new TextDecoder().decode(N.signedMessage),S=N.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in y)||typeof y.signMessage!="function"||!("publicKey"in y)||typeof y!="object"||!y.publicKey||!("toBase58"in y.publicKey)||typeof y.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");w=[`${C.host} wants you to sign in with your Solana account:`,y.publicKey.toBase58(),...p?["",p,""]:[""],"Version: 1",`URI: ${C.href}`,`Issued At: ${(s=(n=h==null?void 0:h.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=h==null?void 0:h.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${h.signInWithSolana.notBefore}`]:[],...!((o=h==null?void 0:h.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${h.signInWithSolana.expirationTime}`]:[],...!((l=h==null?void 0:h.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${h.signInWithSolana.chainId}`]:[],...!((a=h==null?void 0:h.signInWithSolana)===null||a===void 0)&&a.nonce?[`Nonce: ${h.signInWithSolana.nonce}`]:[],...!((u=h==null?void 0:h.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${h.signInWithSolana.requestId}`]:[],...!((f=(d=h==null?void 0:h.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...h.signInWithSolana.resources.map(N=>`- ${N}`)]:[]].join(`
`);const b=await y.signMessage(new TextEncoder().encode(w),"utf8");if(!b||!(b instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");S=b}}try{const{data:j,error:m}=await z(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:w,signature:Vg(S)},!((g=t.options)===null||g===void 0)&&g.captchaToken?{gotrue_meta_security:{captcha_token:(v=t.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:at});if(m)throw m;return!j||!j.session||!j.user?{data:{user:null,session:null},error:new fs}:(j.session&&(await this._saveSession(j.session),await this._notifyAllSubscribers("SIGNED_IN",j.session)),{data:Object.assign({},j),error:m})}catch(j){if(R(j))return{data:{user:null,session:null},error:j};throw j}}async _exchangeCodeForSession(t){const r=await ms(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:i,error:o}=await z(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:at});if(await gs(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new fs}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(R(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:i,nonce:o}=t,l=await z(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:at}),{data:a,error:u}=l;return u?{data:{user:null,session:null},error:u}:!a||!a.session||!a.user?{data:{user:null,session:null},error:new fs}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:a,error:u})}catch(r){if(R(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,s,i,o;try{if("email"in t){const{email:l,options:a}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await dr(this.storage,this.storageKey));const{error:f}=await z(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=a==null?void 0:a.data)!==null&&r!==void 0?r:{},create_user:(n=a==null?void 0:a.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:l,options:a}=t,{data:u,error:d}=await z(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=a==null?void 0:a.data)!==null&&s!==void 0?s:{},create_user:(i=a==null?void 0:a.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken},channel:(o=a==null?void 0:a.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new hs("You must provide either an email or phone number.")}catch(l){if(R(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var r,n;try{let s,i;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:l}=await z(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:at});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const a=o.session,u=o.user;return a!=null&&a.access_token&&(await this._saveSession(a),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",a)),{data:{user:u,session:a},error:null}}catch(s){if(R(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var r,n,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await dr(this.storage,this.storageKey)),await z(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:uv})}catch(i){if(R(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new xt;const{error:s}=await z(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(R(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:i}=t,{error:o}=await z(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:n,type:s,options:i}=t,{data:o,error:l}=await z(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new hs("You must provide either an email or phone number and a type")}catch(r){if(R(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await ms(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<to:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.storage.isServer){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(a,u,d)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(a,u,d))})}return{data:{session:t},error:null}}const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await z(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:jt}):await this._useSession(async r=>{var n,s,i;const{data:o,error:l}=r;if(l)throw l;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new xt}:await z(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:jt})})}catch(r){if(R(r))return Ig(r)&&(await this._removeSession(),await gs(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new xt;const o=s.session;let l=null,a=null;this.flowType==="pkce"&&t.email!=null&&([l,a]=await dr(this.storage,this.storageKey));const{data:u,error:d}=await z(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:a}),jwt:o.access_token,xform:jt});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(R(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new xt;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:o}=no(t.access_token);if(o.exp&&(n=o.exp,s=n<=r),s){const{session:l,error:a}=await this._callRefreshToken(t.refresh_token);if(a)return{data:{user:null,session:null},error:a};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:a}=await this._getUser(t.access_token);if(a)throw a;i={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(R(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:l}=r;if(l)throw l;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new xt;const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(R(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!He())throw new ps("No browser detected.");if(t.error||t.error_description||t.error_code)throw new ps(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new ku("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ps("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new ku("No code detected.");const{data:p,error:h}=await this._exchangeCodeForSession(t.code);if(h)throw h;const y=new URL(window.location.href);return y.searchParams.delete("code"),window.history.replaceState(window.history.state,"",y.toString()),{data:{session:p.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:l,expires_at:a,token_type:u}=t;if(!i||!l||!o||!u)throw new ps("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(l);let g=d+f;a&&(g=parseInt(a));const v=g-d;v*1e3<=pr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${v}s, should have been closer to ${f}s`);const w=g-f;d-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,g,d):d-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",w,g,d);const{data:S,error:j}=await this._getUser(i);if(j)throw j;const m={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:f,expires_at:g,refresh_token:o,token_type:u,user:S.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:m,redirectType:t.type},error:null}}catch(n){if(R(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await ms(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{error:i};const o=(n=s.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(Mg(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await gs(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=Wg(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await dr(this.storage,this.storageKey,!0));try{return await z(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(R(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(R(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var o,l,a,u,d;const{data:f,error:g}=i;if(g)throw g;const v=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:!0});return await z(this.fetch,"GET",v,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return He()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(R(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)throw o;return await z(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(R(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await Qg(async s=>(s>0&&await Gg(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await z(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:at})),(s,i)=>{const o=200*Math.pow(2,s);return i&&ro(i)&&Date.now()+o-n<pr})}catch(n){if(this._debug(r,"error",n),R(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),He()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const n=await ms(this.storage,this.storageKey);if(this._debug(r,"session from storage",n),!this._isValidSession(n)){this._debug(r,"session is not valid"),n!==null&&await this._removeSession();return}const s=((t=n.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<to;if(this._debug(r,`session has${s?"":" not"} expired with margin of ${to}s`),s){if(this.autoRefreshToken&&n.refresh_token){const{error:i}=await this._callRefreshToken(n.refresh_token);i&&(console.error(i),ro(i)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(r,"error",n),console.error(n);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new xt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new bi;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new xt;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={session:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(s,"error",i),R(i)){const o={session:null,error:i};return ro(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(a){i.push(a)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await jf(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await gs(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&He()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),pr);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/pr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${pr}ms, refresh threshold is ${sl} ticks`),s<=sl&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Nf)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!He()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await dr(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(l.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await z(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(R(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:a,error:u}=await z(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((s=a==null?void 0:a.totp)===null||s===void 0)&&s.qr_code)&&(a.totp.qr_code=`data:image/svg+xml;utf-8,${a.totp.qr_code}`),{data:a,error:null})})}catch(r){if(R(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{data:null,error:i};const{data:o,error:l}=await z(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(r){if(R(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await z(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(R(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],s=n.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=n.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:n,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:s},error:i}=t;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=no(s.access_token);let l=null;o.aal&&(l=o.aal);let a=l;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(f=>f.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(a="aal2");const d=o.amr||[];return{data:{currentLevel:l,nextLevel:a,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(o=>o.kid===t);if(n||(n=this.jwks.keys.find(o=>o.kid===t),n&&this.jwks_cached_at+Lg>Date.now()))return n;const{data:s,error:i}=await z(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;if(!s.keys||s.keys.length===0)throw new wn("JWKS is empty");if(this.jwks=s,this.jwks_cached_at=Date.now(),n=s.keys.find(o=>o.kid===t),!n)throw new wn("No matching signing key found in JWKS");return n}async getClaims(t,r={keys:[]}){try{let n=t;if(!n){const{data:v,error:w}=await this.getSession();if(w||!v.session)return{data:null,error:w};n=v.session.access_token}const{header:s,payload:i,signature:o,raw:{header:l,payload:a}}=no(n);if(rv(i.exp),!s.kid||s.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:v}=await this.getUser(n);if(v)throw v;return{data:{claims:i,header:s,signature:o},error:null}}const u=nv(s.alg),d=await this.fetchJwk(s.kid,r),f=await crypto.subtle.importKey("jwk",d,u,!0,["verify"]);if(!await crypto.subtle.verify(u,f,o,Bg(`${l}.${a}`)))throw new wn("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(n){if(R(n))return{data:null,error:n};throw n}}}Dn.nextInstanceID=0;const _v=Dn;class xv extends _v{constructor(t){super(t)}}var Sv=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function a(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):s(d.value).then(l,a)}u((n=n.apply(e,t||[])).next())})};class kv{constructor(t,r,n){var s,i,o;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const l=bg(t),a=new URL(l);this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const u=`sb-${a.hostname.split(".")[0]}-auth-token`,d={db:yg,realtime:_g,auth:Object.assign(Object.assign({},wg),{storageKey:u}),global:vg},f=jg(n??{},d);this.storageKey=(s=f.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=f.global.headers)!==null&&i!==void 0?i:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(g,v)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(v)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=f.auth)!==null&&o!==void 0?o:{},this.headers,f.global.fetch),this.fetch=Cg(r,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.rest=new zm(new URL("rest/v1",a).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),f.accessToken||this._listenForAuthEvents()}get functions(){return new gm(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new pg(this.storageUrl.href,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return Sv(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,storageKey:i,flowType:o,lock:l,debug:a},u,d){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new xv({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),u),storageKey:i,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,flowType:o,lock:l,debug:a,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new tg(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Cv=(e,t,r)=>new kv(e,t,r),Pf=e=>e?e.trim().replace(/^['"]|['"]$/g,""):"",Of=Pf("https://ohaggwsfwirvbqqilvxf.supabase.co"),Tf=Pf("eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im9oYWdnd3Nmd2lydmJxcWlsdnhmIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTEzMDg0OTAsImV4cCI6MjA2Njg4NDQ5MH0.G6tyhf9wPTVB1lkJ26Y2IzXjFbeuIaBSkK_4RPYvfqk"),st=!!(Of&&Tf),xe=Cv(Of||"http://localhost:54321",Tf||"dummy-key-to-prevent-crash"),Lu=({path:e,className:t="w-5 h-5"})=>c.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:t,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:e})}),Au=({textToCopy:e})=>{const[t,r]=M.useState(!1),n=()=>{navigator.clipboard.writeText(e),r(!0),setTimeout(()=>r(!1),2e3)};return c.jsx("button",{onClick:n,className:`absolute top-2.5 right-2.5 px-3 py-1 text-xs font-semibold rounded-md transition-all duration-200 ${t?"bg-emerald-500 text-white":"bg-slate-600 text-slate-100 hover:bg-slate-500"}`,children:t?"Copié !":"Copier"})},Mu=({label:e,value:t})=>{const r=t?`"${t}"`:"Non définie",n=!!t;return c.jsxs("div",{className:"flex justify-between items-center text-sm py-1",children:[c.jsxs("span",{className:"text-slate-600",children:[e,":"]}),c.jsx("code",{className:`px-2 py-0.5 rounded text-xs ${n?"bg-emerald-100 text-emerald-800":"bg-red-100 text-red-800"}`,children:r})]})};function Ev(){const[e,t]=M.useState("checking"),[r,n]=M.useState(!0),s="https://ohaggwsfwirvbqqilvxf.supabase.co",i="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im9oYWdnd3Nmd2lydmJxcWlsdnhmIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTEzMDg0OTAsImV4cCI6MjA2Njg4NDQ5MH0.G6tyhf9wPTVB1lkJ26Y2IzXjFbeuIaBSkK_4RPYvfqk";if(M.useEffect(()=>{(async()=>{const{error:d}=await xe.from("scenarios").select("id",{count:"exact",head:!0});d&&d.message.includes("permission denied")||d?t("rls_issue"):(t("connected"),n(!1))})()},[s,i]),!r||e==="connected"||e==="checking")return null;const o=`-- Activez RLS pour toutes les tables
ALTER TABLE public.scenarios ENABLE ROW LEVEL SECURITY;
ALTER TABLE public.scenario_actions ENABLE ROW LEVEL SECURITY;
ALTER TABLE public.checklist_items ENABLE ROW LEVEL SECURITY;

-- Supprimez les anciennes policies pour repartir de zéro
DROP POLICY IF EXISTS "Public access policy" ON public.scenarios;
DROP POLICY IF EXISTS "Public access policy" ON public.scenario_actions;
DROP POLICY IF EXISTS "Public access policy" ON public.checklist_items;

-- Créez des policies qui autorisent toutes les actions (accès public)
CREATE POLICY "Public access policy" ON public.scenarios FOR ALL USING (true) WITH CHECK (true);
CREATE POLICY "Public access policy" ON public.scenario_actions FOR ALL USING (true) WITH CHECK (true);
CREATE POLICY "Public access policy" ON public.checklist_items FOR ALL USING (true) WITH CHECK (true);`,l=`VITE_SUPABASE_URL="https://ohaggwsfwirvbqqilvxf.supabase.co"
VITE_SUPABASE_ANON_KEY="VOTRE_CLE_ANON_PUBLIQUE_ICI"`,a=()=>{switch(e){case"missing_env":return c.jsxs(c.Fragment,{children:[c.jsx("h4",{className:"font-bold text-lg text-slate-800",children:"Étape 1: Configurer les Clés API"}),c.jsx("p",{className:"mt-1 text-slate-600",children:"L'application ne trouve pas vos clés de connexion Supabase."}),c.jsxs("div",{className:"mt-4 space-y-3",children:[c.jsxs("p",{children:["Créez ou ouvrez le fichier ",c.jsx("code",{className:"font-semibold text-blue-600",children:".env.local"})," à la racine de votre projet et collez-y le contenu ci-dessous."]}),c.jsxs("div",{className:"relative",children:[c.jsx("pre",{className:"bg-slate-800 text-slate-100 p-4 rounded-md text-sm overflow-x-auto",children:l}),c.jsx(Au,{textToCopy:l})]}),c.jsxs("p",{children:['Ensuite, trouvez votre clé API "anon" sur votre ',c.jsx("a",{href:"https://supabase.com/dashboard/project/ohaggwsfwirvbqqilvxf/settings/api",target:"_blank",rel:"noopener noreferrer",className:"font-semibold underline hover:text-blue-700",children:"tableau de bord Supabase"})," et collez-la."]}),c.jsx("p",{className:"font-semibold text-orange-600",children:"N'oubliez pas d'arrêter et de redémarrer le serveur (`npm run dev`) après la modification !"})]})]});case"rls_issue":return c.jsxs(c.Fragment,{children:[c.jsx("h4",{className:"font-bold text-lg text-slate-800",children:"Étape 2: Autoriser l'accès"}),c.jsxs("p",{className:"mt-1 text-slate-600",children:[c.jsx("span",{className:"font-semibold text-emerald-700",children:"Bravo !"})," L'application est connectée à Supabase, mais les données sont protégées (par défaut)."]}),c.jsxs("div",{className:"mt-4 space-y-3",children:[c.jsxs("p",{children:["Pour autoriser l'application à lire et écrire les données, exécutez le script SQL ci-dessous dans l'",c.jsx("strong",{children:"Éditeur SQL"})," de votre projet Supabase."]}),c.jsxs("div",{className:"relative",children:[c.jsx("pre",{className:"bg-slate-800 text-slate-100 p-4 rounded-md text-sm overflow-x-auto",children:o}),c.jsx(Au,{textToCopy:o})]}),c.jsx("div",{className:"flex gap-3",children:c.jsx("a",{href:"https://supabase.com/dashboard/project/ohaggwsfwirvbqqilvxf/sql/new",target:"_blank",rel:"noopener noreferrer",className:"flex-1 text-center px-4 py-2 bg-blue-600 text-white font-semibold rounded-lg hover:bg-blue-700 transition-colors",children:"Ouvrir l'Éditeur SQL"})}),c.jsx("p",{className:"mt-2 font-semibold text-orange-600",children:"Après avoir exécuté le script, rechargez simplement cette page."})]})]});default:return null}};return c.jsxs("div",{className:"bg-white border-2 border-blue-200 p-6 rounded-2xl mb-8 shadow-lg relative transition-all duration-300",children:[c.jsx("button",{onClick:()=>n(!1),className:"absolute top-4 right-4 text-slate-400 hover:text-slate-600 transition-colors","aria-label":"Fermer l'aide",children:c.jsx(Lu,{path:"M6 18L18 6M6 6l12 12",className:"h-6 w-6"})}),c.jsxs("div",{className:"flex gap-4 items-center mb-4",children:[c.jsx(Lu,{path:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z",className:"w-10 h-10 text-blue-500"}),c.jsx("h3",{className:"font-extrabold text-2xl text-slate-800 tracking-tight",children:"Assistant de Configuration"})]}),c.jsx("div",{className:"border-t border-slate-200 my-4"}),a(),c.jsx("div",{className:"border-t border-slate-200 my-4"}),c.jsxs("div",{className:"bg-slate-50 border border-slate-200 rounded-lg p-3",children:[c.jsx("h5",{className:"font-semibold text-slate-700 mb-2",children:"Diagnostic en Temps Réel"}),c.jsxs("div",{className:"space-y-1",children:[c.jsx(Mu,{label:"VITE_SUPABASE_URL",value:s}),c.jsx(Mu,{label:"VITE_SUPABASE_ANON_KEY",value:i})]})]})]})}const Iu=({icon:e,title:t,description:r,onClick:n})=>c.jsxs("div",{onClick:n,className:"bg-white rounded-2xl shadow-lg border border-slate-200/80 p-8 text-center flex flex-col items-center justify-center transform hover:-translate-y-2 transition-transform duration-300 cursor-pointer group",children:[c.jsx("div",{className:"bg-blue-100 text-blue-600 rounded-full p-4 mb-6 group-hover:bg-blue-600 group-hover:text-white transition-colors duration-300",children:e}),c.jsx("h2",{className:"text-xl font-bold text-slate-800 mb-2 tracking-wide uppercase",children:t}),c.jsx("p",{className:"text-slate-500",children:r})]});function bv({onNavigate:e}){return c.jsxs(c.Fragment,{children:[c.jsx("header",{className:"bg-white shadow-sm",children:c.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-6 text-center",children:[c.jsx("h1",{className:"text-4xl font-extrabold text-slate-800 tracking-tight",children:"Système de Suivi d'Audit"}),c.jsx("p",{className:"text-slate-500 mt-2 text-lg",children:"Votre tableau de bord central pour la gestion de la conformité"})]})}),c.jsxs("main",{className:"container mx-auto p-4 sm:p-6 lg:p-12",children:[c.jsx(Ev,{}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 max-w-4xl mx-auto",children:[c.jsx(Iu,{icon:c.jsx(am,{className:"w-10 h-10"}),title:"CHECKLIST SDA FSS",description:"Accéder à la checklist de conformité interactive pour les audits.",onClick:()=>e("checklist")}),c.jsx(Iu,{icon:c.jsx(lm,{className:"w-10 h-10"}),title:"SCÉNARIO DÉROULEMENT AUDIT",description:"Suivre le plan d'action et la progression de la préparation à l'audit.",onClick:()=>e("scenario")})]})]})]})}function jv({steps:e,activeStepId:t,setActiveStepId:r,onToggleCompletion:n}){return c.jsx("div",{className:"flex flex-wrap gap-4 justify-center border-b border-slate-200 pb-6",children:e.map(s=>{const i=t===s.id,o=s.completed,l=`
          relative flex-shrink-0 
          w-44 h-32 sm:w-48 sm:h-36
          transition-all duration-300 ease-in-out
        `,a=`
          p-3 font-medium rounded-xl transition-all duration-300 text-center
          flex flex-col items-center justify-center gap-1 h-full w-full
          border
          ${i?"bg-blue-600 text-white shadow-lg transform -translate-y-1 scale-105 border-blue-700":o?"bg-emerald-50 text-emerald-900 border-emerald-200 hover:bg-emerald-100 hover:shadow-md hover:border-emerald-300":"bg-white text-slate-700 hover:bg-slate-50 border-slate-200 hover:shadow-md hover:border-blue-400"}
        `;return c.jsxs("div",{className:l,children:[c.jsxs("button",{onClick:()=>r(s.id),className:a,"aria-current":i?"step":void 0,children:[c.jsx("span",{className:"font-bold text-xl text-slate-400",children:s.id}),c.jsx("span",{className:"text-sm leading-tight font-semibold",children:s.title})]}),c.jsx("div",{className:"absolute top-2.5 right-2.5 z-10",children:c.jsx("input",{type:"checkbox",checked:o,onChange:()=>n(s.id,s.completed),className:"h-5 w-5 rounded-md border-slate-400/80 text-emerald-600 focus:ring-2 focus:ring-offset-1 focus:ring-emerald-500 cursor-pointer shadow-sm","aria-label":`Marquer l'étape ${s.id} comme complétée`})})]},s.id)})})}const A={statut:"",resp:"",datePrevue:"",commentaires:""},Ps=[{id:1,title:"Arrivée et Réunion d'Ouverture",actions:[{id:"s1-1",point:"Accueil & Salle",action:"Personne dédiée à l'accueil, salle de réunion préparée (matériel, boissons).",...A},{id:"s1-2",point:"Participants & Présentation",action:"S'assurer de la présence du management clé. Avoir une présentation concise de l'entreprise prête.",...A}],completed:!1},{id:2,title:"Visite de la Salle de Traitement d'Eau",actions:[{id:"s2-1",point:"Présence & Propreté",action:"Responsable technique présent, zone impeccable.",...A},{id:"s2-2",point:"Dossiers",action:"Préparer les enregistrements d'analyses, de maintenance et de traitement.",...A}],completed:!1},{id:3,title:"Zone Stockage Matières Premières & Consommables (MPC)",actions:[{id:"s3-1",point:"Organisation",action:"Zone rangée, lots identifiés, FIFO visiblement appliqué.",...A},{id:"s3-2",point:"Documents",action:"Avoir les bons de livraison et certificats d'analyse fournisseurs à disposition.",...A}],completed:!1},{id:4,title:"Évaluation des Fournisseurs et Processus d'Approbation",actions:[{id:"s4-1",point:"Préparation",action:"Préparer la liste des fournisseurs approuvés, les critères de sélection et les dossiers d'évaluation (questionnaires, audits, performances).",...A},{id:"s4-2",point:"Responsable",action:"Le responsable des achats/qualité doit pouvoir expliquer le processus.",...A}],completed:!1},{id:5,title:"Visite de la Souffleuse et Ligne de Production 1",actions:[{id:"s5-1",point:"Opérateurs & Propreté",action:"Opérateurs briefés, ligne et machine propres.",...A},{id:"s5-2",point:"Enregistrements",action:"Fiches de production, de contrôle qualité en ligne et de maintenance machine prêtes.",...A}],completed:!1},{id:6,title:"Visite de la Ligne de Production 2",actions:[{id:"s6-1",point:"Actions identiques",action:"Propreté, disponibilité des opérateurs et des enregistrements.",...A}],completed:!1},{id:7,title:"Vérification du Système de Nettoyage et Assainissement (NEP/CIP)",actions:[{id:"s7-1",point:"Procédures",action:"Assurer la disponibilité des procédures de nettoyage.",...A},{id:"s7-2",point:"Enregistrements",action:"Préparer les enregistrements des cycles de nettoyage, les validations de nettoyage et les certificats des produits chimiques utilisés.",...A}],completed:!1},{id:8,title:"Visite de l'Atelier de Maintenance et Revue du Système",actions:[{id:"s8-1",point:"Propreté & Ordre",action:"L'atelier doit être rangé (5S).",...A},{id:"s8-2",point:"Maintenance Préventive",action:"Préparer le planning de maintenance préventive et les preuves de sa réalisation (GMAO).",...A},{id:"s8-3",point:"Curatif",action:"Avoir à disposition les fiches d'intervention suite à des pannes.",...A}],completed:!1},{id:9,title:"Zone de Contrôle Qualité / Laboratoire",actions:[{id:"s9-1",point:"Propreté et Ordre",action:"Laboratoire impeccable.",...A},{id:"s9-2",point:"Équipements",action:"S'assurer que les équipements sont fonctionnels et rangés.",...A}],completed:!1},{id:10,title:"Revue du Programme de Gestion des Étalonnages",actions:[{id:"s10-1",point:"Planification",action:"Préparer la liste maîtresse des équipements à étalonner et le planning.",...A},{id:"s10-2",point:"Certificats",action:"Rassembler les certificats d'étalonnage en cours de validité.",...A},{id:"s10-3",point:"Procédure",action:"Avoir la procédure décrivant que faire en cas de résultat non-conforme.",...A}],completed:!1},{id:11,title:"Vérification des Systèmes de Contrôle de l'Environnement",actions:[{id:"s11-1",point:"Lutte Nuisibles & Poussière",action:"Avoir les plans et rapports du prestataire externe.",...A},{id:"s11-2",point:"Contrôles",action:"Préparer les enregistrements des contrôles environnementaux (air, surfaces).",...A}],completed:!1},{id:12,title:"Zone de Stockage Produits Finis",actions:[{id:"s12-1",point:"Organisation & Identification",action:"Zone rangée, palettes identifiées, traçabilité assurée.",...A},{id:"s12-2",point:"Zone Non-Conforme",action:"Vérifier que cette zone est clairement délimitée et gérée.",...A}],completed:!1},{id:13,title:"Revue du Processus de Maîtrise du Produit Non-Conforme",actions:[{id:"s13-1",point:"Procédure & Enregistrements",action:"Avoir la procédure et le registre des non-conformités.",...A},{id:"s13-2",point:"Exemples",action:"Être capable de présenter un cas concret : de la détection à la décision (rebus, reclassement, retouche) avec les preuves associées.",...A}],completed:!1},{id:14,title:"Visite des Vestiaires et Douches",actions:[{id:"s14-1",point:"Hygiène & Équipements",action:"Propreté irréprochable, casiers en bon état, consommables disponibles.",...A}],completed:!1},{id:15,title:"Visite des SAS (Personnel et Matériel)",actions:[{id:"s15-1",point:"Fonctionnement & Instructions",action:"S'assurer du bon fonctionnement des lave-mains/gel et que les instructions sont claires et respectées.",...A}],completed:!1},{id:16,title:"Visite de l'Infirmerie",actions:[{id:"s16-1",point:"Contenu & Registre",action:"Vérifier que la trousse de secours est complète et à jour. Le registre des soins doit être disponible.",...A}],completed:!1},{id:17,title:"Revue de la Préparation aux Situations d'Urgence",actions:[{id:"s17-1",point:"Affichage",action:"S'assurer que les plans d'évacuation sont visibles et à jour.",...A},{id:"s17-2",point:"Équipements",action:"Vérifier les extincteurs (contrôle périodique).",...A},{id:"s17-3",point:"Registres",action:"Préparer les preuves des derniers exercices d'évacuation.",...A}],completed:!1},{id:18,title:"Zone de Gestion des Déchets (Déchetterie)",actions:[{id:"s18-1",point:"Tri & Propreté",action:"Conteneurs identifiés, zone propre.",...A},{id:"s18-2",point:"Traçabilité",action:"Avoir les bordereaux de suivi des déchets pour prouver leur élimination conforme.",...A}],completed:!1},{id:19,title:"Revue des Compétences du Personnel et de la Formation",actions:[{id:"s19-1",point:"Dossiers",action:"Préparer l'organigramme, les fiches de poste et la matrice de polyvalence.",...A},{id:"s19-2",point:"Plan de formation",action:"Avoir le plan de formation de l'année et les preuves de réalisation (feuilles d'émargement, évaluations).",...A}],completed:!1},{id:20,title:"Revue du Programme d'Audits Internes",actions:[{id:"s20-1",point:"Planification & Rapports",action:"Préparer le planning des audits internes, ainsi que les rapports des audits déjà réalisés.",...A},{id:"s20-2",point:"Suivi",action:"Démontrer le suivi des actions correctives issues de ces audits.",...A}],completed:!1},{id:21,title:"Revue du Processus de Traitement des Réclamations Clients",actions:[{id:"s21-1",point:"Procédure & Registre",action:"Avoir la procédure et le registre des réclamations.",...A},{id:"s21-2",point:"Analyse",action:"Être capable de présenter l'analyse des causes et les actions mises en place suite à une réclamation significative.",...A}],completed:!1},{id:22,title:"Revue de la dernière Revue de Direction",actions:[{id:"s22-1",point:"Compte-rendu",action:"Préparer le compte-rendu de la dernière revue de direction.",...A},{id:"s22-2",point:"Plan d'action",action:"Démontrer que les décisions et actions qui en ont découlé ont été suivies.",...A}],completed:!1},{id:23,title:"Revue Documentaire Finale et Questions Spécifiques",actions:[{id:"s23-1",point:"Disponibilité",action:"Anticiper les documents clés (manuel qualité, procédures) et s'assurer que les responsables de processus sont joignables pour toute question.",...A}],completed:!1},{id:24,title:"Préparation de la Synthèse par l'Auditrice",actions:[{id:"s24-1",point:"Mise à disposition",action:"Proposer un espace calme pour la préparation de la conclusion.",...A}],completed:!1},{id:25,title:"Réunion de Clôture",actions:[{id:"s25-1",point:"Participants & Attitude",action:"Convoquer le management, écouter activement les constats, prendre des notes précises et poser des questions de clarification.",...A}],completed:!1},{id:26,title:"Départ de l'Auditrice",actions:[{id:"s26-1",point:"Accompagnement et Remerciements",action:"Raccompagner et remercier pour la visite et les pistes d'amélioration.",...A}],completed:!1}],Nv=({textToCopy:e})=>{const[t,r]=Ku.useState(!1),n=()=>{navigator.clipboard.writeText(e),r(!0),setTimeout(()=>r(!1),2e3)};return c.jsx("button",{onClick:n,className:`absolute top-2 right-2 px-3 py-1 text-xs font-semibold rounded-md transition-all duration-200 ${t?"bg-emerald-500 text-white":"bg-slate-600 text-slate-100 hover:bg-slate-500"}`,children:t?"Copié !":"Copier"})};function oa({error:e,onRetry:t}){const r=e==null?void 0:e.message.includes("permission denied"),n=`-- Activez RLS pour toutes les tables
ALTER TABLE public.scenarios ENABLE ROW LEVEL SECURITY;
ALTER TABLE public.scenario_actions ENABLE ROW LEVEL SECURITY;
ALTER TABLE public.checklist_items ENABLE ROW LEVEL SECURITY;

-- Supprimez les anciennes policies pour repartir de zéro
DROP POLICY IF EXISTS "Public access policy" ON public.scenarios;
DROP POLICY IF EXISTS "Public access policy" ON public.scenario_actions;
DROP POLICY IF EXISTS "Public access policy" ON public.checklist_items;

-- Créez des policies qui autorisent toutes les actions (accès public)
CREATE POLICY "Public access policy" ON public.scenarios FOR ALL USING (true) WITH CHECK (true);
CREATE POLICY "Public access policy" ON public.scenario_actions FOR ALL USING (true) WITH CHECK (true);
CREATE POLICY "Public access policy" ON public.checklist_items FOR ALL USING (true) WITH CHECK (true);`;return c.jsx("div",{className:"bg-red-50 border-l-4 border-red-400 p-6 rounded-r-lg my-6 max-w-4xl mx-auto shadow-md",children:c.jsxs("div",{className:"flex",children:[c.jsx("div",{className:"flex-shrink-0",children:c.jsx($n,{className:"h-6 w-6 text-red-500"})}),c.jsxs("div",{className:"ml-4",children:[c.jsx("h3",{className:"text-lg font-bold text-red-800",children:"Erreur de Chargement des Données"}),c.jsxs("div",{className:"mt-2 text-sm text-red-700",children:[c.jsx("p",{children:"Impossible de communiquer avec la base de données. Voici le détail de l'erreur :"}),c.jsx("pre",{className:"mt-2 p-2 bg-red-100 rounded text-xs font-mono",children:e.message})]}),r&&c.jsxs("div",{className:"mt-4",children:[c.jsx("h4",{className:"font-bold text-red-900",children:"Cause Probable : Problème de Permissions (RLS)"}),c.jsxs("p",{className:"mt-1 text-sm text-red-800",children:["Votre base de données est connectée, mais elle bloque l'accès aux données. Pour résoudre ce problème, vous devez autoriser l'accès en exécutant le script SQL suivant dans l'",c.jsx("strong",{children:"Éditeur SQL"})," de votre projet Supabase."]}),c.jsxs("div",{className:"relative mt-3",children:[c.jsx("pre",{className:"bg-slate-800 text-slate-100 p-4 rounded-md text-sm overflow-x-auto",children:n}),c.jsx(Nv,{textToCopy:n})]}),c.jsx("a",{href:"https://supabase.com/dashboard/project/ohaggwsfwirvbqqilvxf/sql/new",target:"_blank",rel:"noopener noreferrer",className:"inline-block mt-3 px-4 py-2 bg-blue-600 text-white font-semibold rounded-lg hover:bg-blue-700 transition-colors",children:"Ouvrir l'Éditeur SQL de Supabase"})]}),c.jsx("div",{className:"mt-6",children:c.jsx("button",{onClick:t,className:"px-4 py-2 bg-red-600 text-white font-semibold rounded-lg hover:bg-red-700 transition-colors",children:"Réessayer"})})]})]})})}function Pv({stepId:e}){const[t,r]=M.useState([]),[n,s]=M.useState(!0),[i,o]=M.useState(null),[l,a]=M.useState(null),[u,d]=M.useState({}),f=M.useRef(null),[g,v]=M.useState(!1),[w,S]=M.useState(!1),[j,m]=M.useState(null),[p,h]=M.useState(null),[y,C]=M.useState({point:"",action:"",statut:"",resp:"",datePrevue:"",commentaires:""}),b=M.useCallback(async()=>{if(s(!0),o(null),st){const{data:_,error:k}=await xe.from("scenario_actions").select("*").eq("scenario_id",e).order("created_at");k?(console.error("Erreur de chargement des actions:",k),o(k),r([])):r(_)}else{const _=Ps.find(k=>k.id===e);r(_?_.actions.map(k=>({...k,id:k.id||`local-${Math.random()}`,created_at:new Date().toISOString(),scenario_id:e})):[])}s(!1)},[e]);M.useEffect(()=>{b()},[b]);const N=(_,k,O)=>{r(I=>I.map(D=>D.id===_?{...D,[k]:O}:D))},T=async(_,k)=>{const O=`${_}-${String(k)}`;if(a(null),st){const I=t.find(q=>q.id===_);if(!I)return;d(q=>({...q,[O]:"saving"}));const{error:D}=await xe.from("scenario_actions").update({[k]:I[k]}).eq("id",_);D?(console.error("Erreur de mise à jour:",D),d(q=>({...q,[O]:"error"})),b()):d(q=>({...q,[O]:"success"})),setTimeout(()=>{d(q=>{const{[O]:et,...Hr}=q;return Hr})},2e3)}},K=()=>{C({point:"",action:"",statut:"",resp:"",datePrevue:"",commentaires:""}),m(null),v(!0)},U=()=>{v(!1),m(null)},ne=_=>{const{name:k,value:O}=_.target;C(I=>({...I,[k]:O}))},lt=async()=>{if(!y.point||!y.action){m("Veuillez remplir 'Point de Vérification' et 'Actions à Mener'.");return}if(m(null),S(!0),h(null),st){const _={...y,scenario_id:e},{data:k,error:O}=await xe.from("scenario_actions").insert(_).select().single();O?(console.error("Erreur d'ajout:",O),m(`Une erreur est survenue: ${O.message}`),h({type:"error",message:`Erreur de création : ${O.message}. Vérifiez que la sécurité (RLS) est bien ACTIVÉE sur la table et que votre règle autorise l'opération 'INSERT'.`})):k&&(r(I=>[...I,k]),v(!1),h({type:"success",message:"Action créée avec succès !"}),setTimeout(()=>h(null),5e3))}else{const _={...y,id:`local-${Date.now()}`,created_at:new Date().toISOString(),scenario_id:e};r(k=>[...k,_]),v(!1)}S(!1)},de=async _=>{if(window.confirm("Êtes-vous sûr de vouloir supprimer cette ligne ?"))if(h(null),st){const{error:k}=await xe.from("scenario_actions").delete().eq("id",_);k?(console.error("Erreur de suppression:",k),h({type:"error",message:`Erreur de suppression : ${k.message}. Vérifiez que la sécurité (RLS) est bien ACTIVÉE sur la table et que votre règle autorise l'opération 'DELETE'.`})):(r(O=>O.filter(I=>I.id!==_)),h({type:"success",message:"Ligne supprimée avec succès !"}),setTimeout(()=>h(null),5e3))}else r(k=>k.filter(O=>O.id!==_))},L=()=>{const _=["N°","Point de Vérification","Actions à Mener","Statut","Responsable","Date Prévue","Commentaires"],k=t.map((q,et)=>[et+1,`"${(q.point||"").replace(/"/g,'""')}"`,`"${(q.action||"").replace(/"/g,'""')}"`,q.statut,q.resp,q.datePrevue,`"${(q.commentaires||"").replace(/"/g,'""')}"`].join(",")),O="data:text/csv;charset=utf-8,"+[_.join(","),...k].join(`
`),I=encodeURI(O),D=document.createElement("a");D.setAttribute("href",I),D.setAttribute("download",`scenario_etape_${e}.csv`),document.body.appendChild(D),D.click(),document.body.removeChild(D)},$=_=>{alert("L'importation CSV doit être mise à jour pour fonctionner avec la base de données.")},le=()=>{window.print()},Y=(_,k)=>{const O=(l==null?void 0:l.id)===_.id&&(l==null?void 0:l.key)===k,I=`${_.id}-${String(k)}`,D=u[I];return O&&!D?c.jsx("input",{type:k==="datePrevue"?"date":"text",value:_[k]||"",onChange:q=>N(_.id,k,q.target.value),onBlur:()=>T(_.id,k),onKeyDown:q=>{q.key==="Enter"&&T(_.id,k),q.key==="Escape"&&a(null)},autoFocus:!0,className:"w-full p-1 border border-blue-400 rounded bg-blue-50"}):c.jsxs("div",{onClick:()=>!D&&a({id:_.id,key:k}),className:`w-full min-h-[24px] flex items-center justify-between ${D?"cursor-default":"cursor-pointer"}`,children:[c.jsx("span",{children:_[k]}),c.jsxs("div",{className:"flex-shrink-0 w-6 h-6 flex items-center justify-center",children:[D==="saving"&&c.jsx(ti,{className:"w-4 h-4 text-blue-500"}),D==="success"&&c.jsx(ei,{className:"w-5 h-5 text-emerald-500"}),D==="error"&&c.jsx(rf,{className:"w-5 h-5 text-red-500"})]})]})};return n?c.jsx("div",{className:"text-center py-10",children:"Chargement des actions..."}):i?c.jsx(oa,{error:i,onRetry:b}):c.jsxs("div",{className:"bg-white rounded-xl shadow-md border border-slate-200 p-4",children:[c.jsx("input",{type:"file",accept:".csv",ref:f,onChange:$,className:"hidden"}),p&&c.jsxs("div",{className:`flex items-start gap-3 p-4 mb-4 rounded-lg border animate-fade-in ${p.type==="error"?"bg-red-50 border-red-200 text-red-800":"bg-green-50 border-green-200 text-green-800"}`,children:[c.jsx("div",{className:"flex-shrink-0",children:p.type==="error"?c.jsx($n,{className:"w-5 h-5"}):c.jsx(ei,{className:"w-5 h-5"})}),c.jsx("div",{className:"flex-1 text-sm font-medium",children:p.message}),c.jsx("button",{onClick:()=>h(null),className:"flex-shrink-0 -mt-1 -mr-1 p-1 rounded-full hover:bg-black/10",children:c.jsx(nf,{className:"w-5 h-5"})})]}),c.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-4 no-print",children:[c.jsxs("button",{onClick:K,className:"flex items-center gap-2 px-3 py-2 bg-blue-600 text-white text-sm rounded-md hover:bg-blue-700 transition-colors",children:[c.jsx(Yd,{className:"w-4 h-4"}),"Créer"]}),c.jsxs("button",{onClick:()=>{var _;return(_=f.current)==null?void 0:_.click()},className:"flex items-center gap-2 px-3 py-2 bg-teal-600 text-white text-sm rounded-md hover:bg-teal-700 transition-colors",children:[c.jsx(tf,{className:"w-4 h-4"}),"Importer (Excel)"]}),c.jsxs("button",{onClick:L,className:"flex items-center gap-2 px-3 py-2 bg-gray-600 text-white text-sm rounded-md hover:bg-gray-700 transition-colors",children:[c.jsx(ef,{className:"w-4 h-4"}),"Exporter (Excel)"]}),c.jsxs("button",{onClick:le,className:"flex items-center gap-2 px-3 py-2 bg-gray-600 text-white text-sm rounded-md hover:bg-gray-700 transition-colors",children:[c.jsx(Zd,{className:"w-4 h-4"}),"Imprimer"]})]}),g&&c.jsxs("div",{className:"bg-slate-50 border border-slate-200 rounded-lg p-4 mb-4 animate-fade-in",children:[c.jsx("h3",{className:"text-lg font-semibold text-slate-700 mb-4",children:"Ajouter une nouvelle action"}),j&&c.jsxs("div",{className:"flex items-center gap-2 p-3 mb-4 bg-red-100 text-red-800 border border-red-200 rounded-md text-sm",children:[c.jsx($n,{className:"w-5 h-5 flex-shrink-0"}),c.jsx("span",{children:j})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{className:"md:col-span-2",children:[c.jsx("label",{htmlFor:"point",className:"block text-sm font-medium text-slate-600 mb-1",children:"Point de Vérification *"}),c.jsx("input",{type:"text",name:"point",id:"point",value:y.point||"",onChange:ne,className:"w-full p-2 border border-slate-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"})]}),c.jsxs("div",{className:"md:col-span-2",children:[c.jsx("label",{htmlFor:"action",className:"block text-sm font-medium text-slate-600 mb-1",children:"Actions à Mener *"}),c.jsx("textarea",{name:"action",id:"action",value:y.action||"",onChange:ne,rows:3,className:"w-full p-2 border border-slate-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"statut",className:"block text-sm font-medium text-slate-600 mb-1",children:"Statut"}),c.jsx("input",{type:"text",name:"statut",id:"statut",value:y.statut||"",onChange:ne,className:"w-full p-2 border border-slate-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"resp",className:"block text-sm font-medium text-slate-600 mb-1",children:"Responsable"}),c.jsx("input",{type:"text",name:"resp",id:"resp",value:y.resp||"",onChange:ne,className:"w-full p-2 border border-slate-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"datePrevue",className:"block text-sm font-medium text-slate-600 mb-1",children:"Date Prévue"}),c.jsx("input",{type:"date",name:"datePrevue",id:"datePrevue",value:y.datePrevue||"",onChange:ne,className:"w-full p-2 border border-slate-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"})]}),c.jsxs("div",{className:"md:col-span-2",children:[c.jsx("label",{htmlFor:"commentaires",className:"block text-sm font-medium text-slate-600 mb-1",children:"Commentaires"}),c.jsx("textarea",{name:"commentaires",id:"commentaires",value:y.commentaires||"",onChange:ne,rows:2,className:"w-full p-2 border border-slate-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"})]})]}),c.jsxs("div",{className:"flex justify-end gap-3 mt-4",children:[c.jsx("button",{onClick:U,className:"px-4 py-2 bg-white border border-slate-300 text-slate-700 rounded-md hover:bg-slate-50",children:"Annuler"}),c.jsx("button",{onClick:lt,disabled:w,className:"flex items-center justify-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:bg-blue-400 disabled:cursor-not-allowed w-32",children:w?c.jsxs(c.Fragment,{children:[c.jsx(ti,{className:"w-5 h-5"})," Envoi..."]}):"Envoyer"})]})]}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full min-w-[1200px] border-collapse text-sm",children:[c.jsx("thead",{className:"bg-slate-100 text-slate-600",children:c.jsxs("tr",{children:[c.jsx("th",{className:"p-2 border text-center font-semibold w-[50px]",children:"N°"}),c.jsx("th",{className:"p-2 border text-left font-semibold w-1/5",children:"Point de Vérification"}),c.jsx("th",{className:"p-2 border text-left font-semibold w-1/3",children:"Actions à Mener"}),c.jsx("th",{className:"p-2 border text-center font-semibold w-[100px]",children:"Statut"}),c.jsx("th",{className:"p-2 border text-center font-semibold w-[100px]",children:"Resp."}),c.jsx("th",{className:"p-2 border text-center font-semibold w-[120px]",children:"Date Prévue"}),c.jsx("th",{className:"p-2 border text-left font-semibold",children:"Commentaires"}),c.jsx("th",{className:"p-2 border text-center font-semibold w-[50px] no-print"})]})}),c.jsx("tbody",{children:t.map((_,k)=>c.jsxs("tr",{className:"hover:bg-slate-50",children:[c.jsx("td",{className:"p-2 border align-top text-center",children:k+1}),c.jsx("td",{className:"p-2 border align-top",children:Y(_,"point")}),c.jsx("td",{className:"p-2 border align-top",children:Y(_,"action")}),c.jsx("td",{className:"p-2 border align-top",children:Y(_,"statut")}),c.jsx("td",{className:"p-2 border align-top",children:Y(_,"resp")}),c.jsx("td",{className:"p-2 border align-top",children:Y(_,"datePrevue")}),c.jsx("td",{className:"p-2 border align-top",children:Y(_,"commentaires")}),c.jsx("td",{className:"p-2 border text-center align-top no-print",children:c.jsx("button",{onClick:()=>de(_.id),className:"text-red-500 hover:text-red-700 p-1",children:c.jsx(Xd,{className:"w-5 h-5"})})})]},_.id))}),c.jsx("tfoot",{children:t.length===0&&!g&&c.jsx("tr",{children:c.jsxs("td",{colSpan:8,className:"text-center p-8 text-slate-500 border",children:[c.jsx("p",{className:"font-semibold",children:"Aucune action pour cette étape."}),c.jsx("p",{className:"text-sm mt-1",children:'Cliquez sur le bouton "+ Créer" pour en ajouter une.'})]})})})]})})]})}function Ov({onNavigate:e}){const[t,r]=M.useState([]),[n,s]=M.useState(!0),[i,o]=M.useState(null),[l,a]=M.useState(1),[u,d]=M.useState(Ps),[f,g]=M.useState([]),v=M.useCallback(async()=>{if(s(!0),o(null),st){const{data:j,error:m,count:p}=await xe.from("scenarios").select("*",{count:"exact"});if(m){console.error("Erreur lors de la récupération des scénarios:",m),o(m),s(!1);return}if(p===0){console.log("Seeding scenarios...");const h=Ps.map(({id:C,title:b,completed:N})=>({id:C,title:b,completed:N})),{error:y}=await xe.from("scenarios").insert(h);if(y)console.error("Erreur lors de l'insertion des scénarios:",y),o(y);else{const C=Ps.flatMap(N=>N.actions.map(T=>({...T,scenario_id:N.id}))),{error:b}=await xe.from("scenario_actions").insert(C);b?(console.error("Erreur lors de l'insertion des actions:",b),o(b)):v()}}else r(j.sort((h,y)=>h.id-y.id))}else{const j=u.map(({id:m,title:p,completed:h})=>({id:m,title:p,completed:h,created_at:new Date().toISOString()}));r(j)}s(!1)},[u]);M.useEffect(()=>{v()},[v]);const w=async(j,m)=>{const p=!m;if(st){const{error:h}=await xe.from("scenarios").update({completed:p}).eq("id",j);h?console.error("Erreur lors de la mise à jour du statut:",h):r(y=>y.map(C=>C.id===j?{...C,completed:p}:C))}else d(h=>h.map(y=>y.id===j?{...y,completed:p}:y))},S=M.useMemo(()=>t.find(j=>j.id===l),[t,l]);return c.jsxs("div",{className:"min-h-screen bg-slate-50 text-slate-800",children:[c.jsx("header",{className:"bg-white shadow-sm border-b border-slate-200 sticky top-0 z-10 no-print",children:c.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-4 flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-slate-800 tracking-tight",children:"SCÉNARIO DÉROULEMENT AUDIT"}),c.jsx("p",{className:"text-slate-500 mt-1",children:"Feuille de route pour la préparation de l'audit système"})]}),c.jsxs("button",{onClick:()=>e("home"),className:"flex items-center gap-2 px-4 py-2 bg-slate-100 text-slate-700 rounded-lg hover:bg-slate-200 transition-colors",children:[c.jsx(Jd,{className:"w-5 h-5"}),c.jsx("span",{children:"Accueil"})]})]})}),c.jsxs("main",{className:"container mx-auto p-4 sm:p-6 lg:p-8",children:[c.jsx("div",{className:"no-print",children:n?c.jsx("div",{className:"text-center py-4",children:"Chargement des étapes..."}):i?c.jsx(oa,{error:i,onRetry:v}):c.jsx(jv,{steps:t,activeStepId:l,setActiveStepId:a,onToggleCompletion:w})}),c.jsx("div",{className:"mt-6 printable-area",children:!i&&(S?c.jsx(Pv,{stepId:S.id},S.id):!n&&c.jsx("div",{className:"text-center py-10 bg-white rounded-lg shadow-md border",children:c.jsx("h3",{className:"text-lg font-semibold text-slate-600",children:"Veuillez sélectionner une étape."})}))})]})]})}const x={constats:"",action:"",resp:"",datePrevue:"",etat:""},Ru=[{id:"p1",category:"COMMUNS",volet:"Vestiaires",critere:"Vestiaires propre et rangés",note:1,score:3,...x},{id:"p2",category:"COMMUNS",volet:"Vestiaires",critere:"La conception des casiers permet la séparation de la tenue de ville et celle de travail",note:1,score:4,...x},{id:"p3",category:"COMMUNS",volet:"Vestiaires",critere:"Système d'extraction est fonctionnelle",note:1,score:4,...x},{id:"p4",category:"COMMUNS",volet:"Vestiaires",critere:"Les laves mains, accessibles, conformes, propres",note:1,score:4,...x},{id:"p5",category:"COMMUNS",volet:"Vestiaires",critere:"Les Laves mains sont équipés des distributeurs de savon, papier essuie mains/sèche mains",note:1,score:3,...x},{id:"p6",category:"COMMUNS",volet:"Vestiaires",critere:"Les sèches mains sont en bon état de marche (si disponible)",note:1,score:3,...x},{id:"p7",category:"COMMUNS",volet:"Vestiaires",critere:"Les toilettes sont fonctionnelles et propres",note:1,score:3,...x},{id:"p8",category:"COMMUNS",volet:"Vestiaires",critere:"Douches fonctionnelles",note:1,score:3,...x},{id:"p9",category:"COMMUNS",volet:"Vestiaires",critere:"Les casiers en bon état (non cassés, absence de rouille)",note:1,score:4,...x},{id:"p10",category:"COMMUNS",volet:"Vestiaires",critere:"Les casiers sont suffisant pour le personnel/Deux compartiments par casier /personne",note:1,score:4,...x},{id:"p11",category:"COMMUNS",volet:"Cantines",critere:"Dispose des moyens pour l'entreposage des repas apportés par le personnel",note:1,score:3,...x},{id:"p12",category:"COMMUNS",volet:"Cantines",critere:"Les laves mains, accessibles, conformes, propres",note:1,score:3,...x},{id:"p13",category:"COMMUNS",volet:"Cantines",critere:"Les Laves mains sont équipés des distributeurs de savon, papier essuie mains/sèche mains",note:1,score:3,...x},{id:"p14",category:"COMMUNS",volet:"Cantines",critere:"Les sèches mains en bon état de marche (si disponible)",note:1,score:3,...x},{id:"p15",category:"COMMUNS",volet:"Cantines",critere:"La nourriture du personnel est bien stocké au niveau de la cantine",note:1,score:3,...x},{id:"p16",category:"COMMUNS",volet:"Cantines",critere:"Les aliments apportés par le personnel sont consommés uniquement au niveau de la cantine",note:1,score:3,...x},{id:"c36",category:"COMMUNS",volet:"Culture & Sécurité",critere:"Communication claire sur l'importance de la sécurité des aliments aux employés",note:1,score:4,...x},{id:"c37",category:"COMMUNS",volet:"Culture & Sécurité",critere:"Une politique affichée sur la culture qualité et sécurité des aliments",note:1,score:4,...x},{id:"p17",category:"COMMUNS",volet:"Culture & Sécurité",critere:"Les responsables montrent l'exemple en appliquant les bonnes pratiques d'hygiène et de sécurité",note:1,score:4,...x},{id:"p18",category:"COMMUNS",volet:"Culture & Sécurité",critere:"Les employés reçu une formation régulière sur la sécurité des denrées alimentaires",note:1,score:4,...x},{id:"p19",category:"COMMUNS",volet:"Culture & Sécurité",critere:"Les nouvelles recrues sont-elles formées dès leur arrivée",note:1,score:4,...x},{id:"p20",category:"COMMUNS",volet:"Culture & Sécurité",critere:"Les formations couvrent-elles les risques alimentaires, la traçabilité, la contamination croisée et l'hygiène personnelle",note:1,score:4,...x},{id:"p21",category:"COMMUNS",volet:"Culture & Sécurité",critere:"Existe-t-il des tests évaluations pour mesurer la compréhension des bonnes pratiques?",note:1,score:4,...x},{id:"p22",category:"COMMUNS",volet:"Culture & Sécurité",critere:"Les employés appliquent-ils correctement le lavage des mains, port des EPI, etc.",note:1,score:4,...x},{id:"c1",category:"COMMUNS",volet:"Réception",critere:"Bonne réalisation des opérations de contrôles à réception",note:1,score:3,...x},{id:"c2",category:"COMMUNS",volet:"Réception",critere:"Comportement des opérateurs en zone réception (manger, fumer, affaires personnelles)",note:1,score:3,...x},{id:"c3",category:"COMMUNS",volet:"Réception",critere:"Autocontrôles réception enregistrés et archivés",note:1,score:3,...x},{id:"c4",category:"COMMUNS",volet:"Réception",critere:"Les produits réceptionnés et stockés sont intègres",note:1,score:3,...x},{id:"c5",category:"COMMUNS",volet:"Réception",critere:"Actions correctives des contrôles à réception réalisées, enregistrées et archivées",note:1,score:3,...x},{id:"c6",category:"COMMUNS",volet:"Réception",critere:"Les produits non conformes isolés et identifiés",note:1,score:3,...x},{id:"c7",category:"COMMUNS",volet:"Accès au site",critere:"L'accès au site est contrôlé, et les résultats de contrôle sont enregistrés",note:1,score:4,...x},{id:"c8",category:"COMMUNS",volet:"Accès au site",critere:"Contrôle des visiteurs et prestataires à l'entrée avec enregistrement manuel des données",note:1,score:4,...x},{id:"c9",category:"COMMUNS",volet:"Accès au site",critere:"Contrôle des véhicules",note:1,score:3,...x},{id:"c10",category:"COMMUNS",volet:"Accès au site",critere:"Contrôle du personnel piéton à l'accès",note:1,score:3,...x},{id:"c11",category:"COMMUNS",volet:"Accès au site",critere:"Caméras de surveillance installées à l'entrée principale",note:1,score:4,...x},{id:"c12",category:"COMMUNS",volet:"Accès au site",critere:"Présence deux équipes de sureté en même temps",note:1,score:4,...x},{id:"c13",category:"COMMUNS",volet:"Accès au site",critere:"Visiteurs et prestataires systématiquement accompagnés par le personnel de LEMO",note:1,score:4,...x},{id:"c14",category:"COMMUNS",volet:"Accès au site",critere:"Procédure gestion des stagiaires",note:1,score:4,...x},{id:"i1",category:"COMMUNS",volet:"Locaux",critere:"Absence de stagnation d'eau au niveau dans les zones de stationnement des camions",note:1,score:4,...x},{id:"i2",category:"COMMUNS",volet:"Locaux",critere:"Etat du sol non dégradé /ou Absence d'écaille de résine)",note:1,score:4,...x},{id:"i3",category:"COMMUNS",volet:"Locaux",critere:"Plafonds sont étanches",note:1,score:4,...x},{id:"i4",category:"COMMUNS",volet:"Locaux",critere:"Murs en bon état (Absence d'écaille de peinture)",note:1,score:4,...x},{id:"i5",category:"COMMUNS",volet:"Locaux",critere:"Les jonctions murs-sol soient arrondies au niveau des zones de sensible (TDE, Salle blanche, siroperie).",note:1,score:4,...x},{id:"i6",category:"COMMUNS",volet:"Locaux",critere:"Etat des portes (non défectueuses et étanches)",note:1,score:4,...x},{id:"i7",category:"COMMUNS",volet:"Locaux",critere:"Portes sont maintenu fermés hors horaires de travail",note:1,score:4,...x},{id:"i8",category:"COMMUNS",volet:"Locaux",critere:"Absence de stagnation d'eau dans les zones de production et stockage",note:1,score:4,...x},{id:"i9",category:"COMMUNS",volet:"Locaux",critere:"Etat de fenêtre (non cassé) (Vitre, Appuis, Coulisse et cadre)",note:1,score:4,...x},{id:"i10",category:"COMMUNS",volet:"Locaux",critere:"La procédure gestion des corps étrangers est appliquée en cas de casse de verre ou plexiglass",note:1,score:4,...x},{id:"i11",category:"COMMUNS",volet:"Locaux",critere:"Fenêtres protégées (moustiquaires)",note:1,score:4,...x},{id:"i12",category:"COMMUNS",volet:"Locaux",critere:"Vitre des fenêtres incassable ou protégées avec un film Adhésif",note:1,score:4,...x},{id:"l1",category:"COMMUNS",volet:"Locaux",critere:"Lave semelle fonctionnelle",note:1,score:4,...x},{id:"l2",category:"COMMUNS",volet:"Locaux",critere:"Lave semelle propre et approvisionnée en produits",note:1,score:4,...x},{id:"l3",category:"COMMUNS",volet:"Locaux",critere:"Absence de Fuites au niveau des conduites eaux pluviales",note:1,score:4,...x},{id:"l4",category:"COMMUNS",volet:"Locaux",critere:"Caniveau/Regard étanche en bon état avec siphon et protégé",note:1,score:4,...x},{id:"l5",category:"COMMUNS",volet:"Locaux",critere:"Caniveau/Regard propre",note:1,score:4,...x},{id:"l6",category:"COMMUNS",volet:"Locaux",critere:"Monte charge en bon état",note:1,score:4,...x},{id:"l7",category:"COMMUNS",volet:"Locaux",critere:"La température de stockage est respectée (mesurée lors de l'audit)",note:1,score:4,...x},{id:"l8",category:"COMMUNS",volet:"Locaux",critere:"Quai de chargement et déchargement sont en bon état (étanchéité, porte fonctionnelle..)",note:1,score:4,...x},{id:"l9",category:"COMMUNS",volet:"Locaux",critere:"Etat des Extracteurs en bon état et fonctionnelle",note:1,score:4,...x},{id:"l10",category:"COMMUNS",volet:"Locaux",critere:"Les installations et l'équipement de N&D sont maintenus dans un bon état et adaptés.",note:1,score:4,...x},{id:"i13",category:"COMMUNS",volet:"Locaux",critere:"Eclairage suffisant et adapté à la nature de l'opération.",note:1,score:4,...x},{id:"i14",category:"COMMUNS",volet:"Locaux",critere:"Lampes protégées et la protection est incassable pour garantir que produits ne soient pas contaminés en cas de bris",note:1,score:4,...x},{id:"i15",category:"COMMUNS",volet:"Locaux",critere:"Les locaux sont aérés",note:1,score:4,...x},{id:"i16",category:"COMMUNS",volet:"Locaux",critere:"Absence d'accumulation de poussière et d'eau sur le plafond",note:1,score:4,...x},{id:"i17",category:"COMMUNS",volet:"Locaux",critere:"Lampes non défectueuses",note:1,score:3,...x},{id:"i18",category:"COMMUNS",volet:"Locaux",critere:"Les flux des MPC, PF, déchets et personnel sont respectés",note:1,score:4,...x},{id:"i19",category:"COMMUNS",volet:"Locaux",critere:"zoning respecté et accessibilité assurée",note:1,score:4,...x},{id:"i20",category:"COMMUNS",volet:"Locaux",critere:"Accessibilité assurée (couloirs de circulation, couloirs d'inspection machines)",note:1,score:4,...x},{id:"u1",category:"COMMUNS",volet:"Chimiques",critere:"Frigos en bon état et l'afficheur est fonctionnel",note:1,score:3,...x},{id:"u2",category:"COMMUNS",volet:"Chimiques",critere:"Présence d'une zone rouge fermé à clé et identifiée",note:1,score:3,...x},{id:"u3",category:"COMMUNS",volet:"Chimiques",critere:"Un magasin est dédié pour le stockage des produits chimiques et est maintenu fermé à clé",note:1,score:3,...x},{id:"u4",category:"COMMUNS",volet:"Chimiques",critere:"La procédure gestion des clés disponible et respectée",note:1,score:3,...x},{id:"u5",category:"COMMUNS",volet:"Chimiques",critere:"Seuls les produits chimiques utiles à l'activité sont stockés",note:1,score:4,...x},{id:"u6",category:"COMMUNS",volet:"Chimiques",critere:"Tous les produits chimiques possèdent leurs étiquettes d'origine avec le type de danger",note:1,score:3,...x},{id:"u7",category:"COMMUNS",volet:"Chimiques",critere:"FEFO/FIFO respectés",note:1,score:3,...x},{id:"l14",category:"COMMUNS",volet:"Entreposage",critere:"Les installations de mesure/d'analyse en ligne ne présente pas un risque de contamination du produit.",note:1,score:3,...x},{id:"c15",category:"COMMUNS",volet:"Entreposage",critere:"La séparation entre les MP, ingrédients et produit fini est respectée",note:1,score:3,...x},{id:"c16",category:"COMMUNS",volet:"Entreposage",critere:"Absence des produits (MP, ingrédients et produit fini) déposés directement au sol",note:1,score:3,...x},{id:"c17",category:"COMMUNS",volet:"Entreposage",critere:"La distance entre le mur et les produits stockés est respectée",note:1,score:3,...x},{id:"l11",category:"COMMUNS",volet:"Entreposage",critere:"Les chariots élévateurs électrique qui circule dans la zone production et stockage",note:1,score:4,...x},{id:"l12",category:"COMMUNS",volet:"Entreposage",critere:"Les roues des chariots élévateurs ne présentent pas de risque de libération de dangers physiques",note:1,score:4,...x},{id:"l13",category:"COMMUNS",volet:"Entreposage",critere:"Les camions de chargement sont propres",note:1,score:3,...x},{id:"c18",category:"COMMUNS",volet:"Entreposage",critere:"Les préformes, stockés dans des box étanches et paloxes fermés et identifiés",note:1,score:3,...x},{id:"c19",category:"COMMUNS",volet:"Entreposage",critere:"Palox en bon état et propre",note:1,score:3,...x},{id:"c20",category:"COMMUNS",volet:"Entreposage",critere:"Zone de stockage propre et bien rangée",note:1,score:3,...x},{id:"c21",category:"COMMUNS",volet:"Entreposage",critere:"Les bouchons sont réceptionnés et stockés dans des sacs scellés et carton fermé",note:1,score:4,...x},{id:"c22",category:"COMMUNS",volet:"Entreposage",critere:"Produits fini fermés avec des bouchons présentant une gaine de sécurité",note:1,score:3,...x},{id:"c23",category:"COMMUNS",volet:"Entreposage",critere:"Stockage dans des magasins surveillés",note:1,score:4,...x},{id:"c24",category:"COMMUNS",volet:"Entreposage",critere:"Caméras de surveillance installées, fonctionnelle et conforme au plan mis en place",note:1,score:4,...x},{id:"c25",category:"COMMUNS",volet:"Entreposage",critere:"Palettes en bon état et propre",note:1,score:3,...x},{id:"c26",category:"COMMUNS",volet:"Gestion des déchets",critere:"Les poubelles sont placées loin des produits et en nombre suffisant",note:1,score:3,...x},{id:"c27",category:"COMMUNS",volet:"Gestion des déchets",critere:"Un plan de placement des poubelles est disponible et respecté",note:1,score:3,...x},{id:"c28",category:"COMMUNS",volet:"Gestion des déchets",critere:"Les poubelles sont fonctionnelles, propres et non débordantes",note:1,score:4,...x},{id:"c29",category:"COMMUNS",volet:"Gestion des déchets",critere:"Les poubelles sont imperméable et facile à nettoyer et à désinfecter",note:1,score:4,...x},{id:"c30",category:"COMMUNS",volet:"Gestion des déchets",critere:"Les poubelles sont fermées lorsqu'elles ne sont pas utilisés",note:1,score:4,...x},{id:"c31",category:"COMMUNS",volet:"Gestion des déchets",critere:"La zone déchets propre, rangée et sécurisée (fermé à clé)",note:1,score:4,...x},{id:"c32",category:"COMMUNS",volet:"Gestion des déchets",critere:"La fréquence d'évacuation des déchets est respectée",note:1,score:3,...x},{id:"c33",category:"COMMUNS",volet:"Gestion des déchets",critere:"Les déchets des produits et emballage imprimes sont-ils détruits",note:1,score:4,...x},{id:"c34",category:"COMMUNS",volet:"Gestion des déchets",critere:"Le contrat avec les prestataires agrée est disponible",note:1,score:4,...x},{id:"c35",category:"COMMUNS",volet:"Gestion des déchets",critere:"Les PV de destruction sont disponibles selon la fréquence convenue",note:1,score:4,...x},{id:"u8",category:"COMMUNS",volet:"Nettoyage & Désinfection",critere:"Conformité des produits de N&D (agréé contact alimentaire)",note:1,score:4,...x},{id:"u9",category:"COMMUNS",volet:"Nettoyage & Désinfection",critere:"Entreposage isolé des produits de N&D et matériel de nettoyage",note:1,score:4,...x},{id:"u10",category:"COMMUNS",volet:"Nettoyage & Désinfection",critere:"Conformité et états du matériel de nettoyage et désinfection.",note:1,score:4,...x},{id:"u11",category:"COMMUNS",volet:"Nettoyage & Désinfection",critere:"Les outils et équipements N&D ne présentent aucun risque de contamination par des corps étrangers.",note:1,score:4,...x},{id:"u12",category:"COMMUNS",volet:"Nettoyage & Désinfection",critere:"Programme de N&D disponible et à jour",note:1,score:4,...x},{id:"u13",category:"COMMUNS",volet:"Nettoyage & Désinfection",critere:"Les résultats de contrôles des opération de nettoyage et désinfection réalisés, enregistrés et archivés",note:1,score:4,...x},{id:"u14",category:"COMMUNS",volet:"Lutte Nuisibles",critere:"Conformité des produits de lutte contre les nuisibles (Autorisé par l’ONSSA)",note:1,score:4,...x},{id:"u15",category:"COMMUNS",volet:"Lutte Nuisibles",critere:"Programme de lutte contre les nuisibles disponible et à jour",note:1,score:4,...x},{id:"u16",category:"COMMUNS",volet:"Lutte Nuisibles",critere:"Emplacement des pièges à nuisibles est respecté",note:1,score:4,...x},{id:"u17",category:"COMMUNS",volet:"Lutte Nuisibles",critere:"Plan des appâts et insectoflashs disponible et respecté",note:1,score:4,...x},{id:"u18",category:"COMMUNS",volet:"Lutte Nuisibles",critere:"Disponibilité du contrat de sous-traitance",note:1,score:4,...x},{id:"u19",category:"COMMUNS",volet:"Lutte Nuisibles",critere:"Les PV d'intervention sont disponibles et à jour",note:1,score:4,...x},{id:"u20",category:"COMMUNS",volet:"Lutte Nuisibles",critere:"Absence de nuisibles et des traces",note:1,score:4,...x},{id:"u21",category:"COMMUNS",volet:"Lutte Nuisibles",critere:"Infestation massive de nuisibles",note:1,score:4,...x},{id:"u22",category:"COMMUNS",volet:"Lutte Nuisibles",critere:"Les insectoflashs fonctionnelle et propre",note:1,score:4,...x},{id:"u23",category:"COMMUNS",volet:"Lutte Nuisibles",critere:"Absence des points d'accès potentiel des nuisibles",note:1,score:4,...x},{id:"u24",category:"COMMUNS",volet:"Lutte Nuisibles",critere:"Absence de refuges potentiels pour les nuisibles",note:1,score:4,...x},{id:"c38",category:"COMMUNS",volet:"Amélioration",critere:"Formalisation des plans d'action des non-conformités relevées lors du contrôle interne",note:1,score:3,...x},{id:"c39",category:"COMMUNS",volet:"Amélioration",critere:"Conformité de la traçabilité interne",note:1,score:3,...x},{id:"c40",category:"COMMUNS",volet:"Amélioration",critere:"la durée du test de traçabilité est respectée (3h)",note:1,score:3,...x},{id:"c41",category:"COMMUNS",volet:"Amélioration",critere:"Le plan de surveillance environnemental mis en place et respecté",note:1,score:3,...x},{id:"c42",category:"COMMUNS",volet:"Amélioration",critere:"Communication des indicateurs de performance sécurité des aliments",note:1,score:3,...x},{id:"c43",category:"COMMUNS",volet:"Amélioration",critere:"Formalisation des plans d'action des non-conformités relevées lors de l'audit précédent",note:1,score:3,...x},{id:"c44",category:"COMMUNS",volet:"Amélioration",critere:"Actions relevées lors de l'audit précédent réalisées et efficaces",note:1,score:3,...x}];function Tv({data:e,setData:t,category:r,refetchData:n}){const[s,i]=M.useState(null),[o,l]=M.useState({}),a=M.useRef(null),[u,d]=M.useState(!1),[f,g]=M.useState(!1),[v,w]=M.useState(null),[S,j]=M.useState(null),[m,p]=M.useState({volet:"",critere:"",note:"",score:"",constats:"",action:"",resp:"",datePrevue:"",etat:"",original_id:null}),h=(L,$,le)=>{t(e.map(Y=>Y.id===L?{...Y,[$]:le}:Y))},y=async(L,$)=>{const le=`${L}-${String($)}`;if(i(null),st){const Y=e.find(k=>k.id===L);if(!Y)return;l(k=>({...k,[le]:"saving"}));const{error:_}=await xe.from("checklist_items").update({[$]:Y[$]}).eq("id",L);_?(console.error("Erreur de mise à jour:",_),l(k=>({...k,[le]:"error"})),n()):l(k=>({...k,[le]:"success"})),setTimeout(()=>{l(k=>{const{[le]:O,...I}=k;return I})},2e3)}},C=()=>{p({volet:"",critere:"",note:"",score:"",constats:"",action:"",resp:"",datePrevue:"",etat:"",original_id:null}),w(null),d(!0)},b=()=>{d(!1),w(null)},N=L=>{const{name:$,value:le}=L.target;p(Y=>({...Y,[$]:le}))},T=async()=>{if(!m.critere){w("Veuillez remplir au moins le champ 'Critères'.");return}if(w(null),g(!0),j(null),st){const L={...m,category:r},{error:$}=await xe.from("checklist_items").insert(L);$?(console.error("Erreur d'ajout:",$),w(`Une erreur est survenue: ${$.message}`),j({type:"error",message:`Erreur de création : ${$.message}. Vérifiez que la sécurité (RLS) est bien ACTIVÉE sur la table et que votre règle autorise l'opération 'INSERT'.`})):(n(),d(!1),j({type:"success",message:"Élément créé avec succès !"}),setTimeout(()=>j(null),5e3))}else{const L={...m,id:`local-${Date.now()}`,created_at:new Date().toISOString(),category:r};t([...e,L]),d(!1)}g(!1)},K=async L=>{if(window.confirm("Êtes-vous sûr de vouloir supprimer cette ligne ?"))if(j(null),st){const{error:$}=await xe.from("checklist_items").delete().eq("id",L);$?(console.error("Erreur de suppression:",$),j({type:"error",message:`Erreur de suppression : ${$.message}. Vérifiez que la sécurité (RLS) est bien ACTIVÉE sur la table et que votre règle autorise l'opération 'DELETE'.`})):(n(),j({type:"success",message:"Ligne supprimée avec succès !"}),setTimeout(()=>j(null),5e3))}else t(e.filter($=>$.id!==L))},U=()=>{const L=["N°","Catégorie","Volet","Critère","Note","Score","Constats","Action","Responsable","Date Prévue","État"],$=e.map((k,O)=>[O+1,k.category,k.volet,`"${(k.critere||"").replace(/"/g,'""')}"`,k.note,k.score,`"${(k.constats||"").replace(/"/g,'""')}"`,`"${(k.action||"").replace(/"/g,'""')}"`,k.resp,k.datePrevue,k.etat].join(",")),le="data:text/csv;charset=utf-8,"+[L.join(","),...$].join(`
`),Y=encodeURI(le),_=document.createElement("a");_.setAttribute("href",Y),_.setAttribute("download",`checklist_${r}.csv`),document.body.appendChild(_),_.click(),document.body.removeChild(_)},ne=L=>{alert("L'importation CSV doit être mise à jour pour fonctionner avec la base de données.")},lt=()=>{window.print()},de=(L,$)=>{const le=(s==null?void 0:s.id)===L.id&&(s==null?void 0:s.key)===$,Y=`${L.id}-${String($)}`,_=o[Y],k=$==="note"||$==="score";return["id","created_at","category","original_id"].includes($)?c.jsx("span",{children:L[$]}):le&&!_?c.jsx("input",{type:k?"number":"text",value:L[$]||"",onChange:I=>h(L.id,$,I.target.value),onBlur:()=>y(L.id,$),onKeyDown:I=>{I.key==="Enter"&&y(L.id,$),I.key==="Escape"&&i(null)},autoFocus:!0,className:"w-full p-1 border border-blue-400 rounded bg-blue-50"}):c.jsxs("div",{onClick:()=>!_&&i({id:L.id,key:$}),className:`w-full min-h-[24px] flex items-center justify-between ${_?"cursor-default":"cursor-pointer"}`,children:[c.jsx("span",{children:L[$]}),c.jsxs("div",{className:"flex-shrink-0 w-6 h-6 flex items-center justify-center",children:[_==="saving"&&c.jsx(ti,{className:"w-4 h-4 text-blue-500"}),_==="success"&&c.jsx(ei,{className:"w-5 h-5 text-emerald-500"}),_==="error"&&c.jsx(rf,{className:"w-5 h-5 text-red-500"})]})]})};return c.jsxs("div",{className:"bg-white rounded-xl shadow-md border border-slate-200 p-4",children:[c.jsx("input",{type:"file",accept:".csv",ref:a,onChange:ne,className:"hidden"}),S&&c.jsxs("div",{className:`flex items-start gap-3 p-4 mb-4 rounded-lg border animate-fade-in ${S.type==="error"?"bg-red-50 border-red-200 text-red-800":"bg-green-50 border-green-200 text-green-800"}`,children:[c.jsx("div",{className:"flex-shrink-0",children:S.type==="error"?c.jsx($n,{className:"w-5 h-5"}):c.jsx(ei,{className:"w-5 h-5"})}),c.jsx("div",{className:"flex-1 text-sm font-medium",children:S.message}),c.jsx("button",{onClick:()=>j(null),className:"flex-shrink-0 -mt-1 -mr-1 p-1 rounded-full hover:bg-black/10",children:c.jsx(nf,{className:"w-5 h-5"})})]}),c.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-4 no-print",children:[c.jsxs("button",{onClick:C,className:"flex items-center gap-2 px-3 py-2 bg-blue-600 text-white text-sm rounded-md hover:bg-blue-700 transition-colors",children:[c.jsx(Yd,{className:"w-4 h-4"}),"Créer"]}),c.jsxs("button",{onClick:()=>{var L;return(L=a.current)==null?void 0:L.click()},className:"flex items-center gap-2 px-3 py-2 bg-teal-600 text-white text-sm rounded-md hover:bg-teal-700 transition-colors",children:[c.jsx(tf,{className:"w-4 h-4"}),"Importer (Excel)"]}),c.jsxs("button",{onClick:U,className:"flex items-center gap-2 px-3 py-2 bg-gray-600 text-white text-sm rounded-md hover:bg-gray-700 transition-colors",children:[c.jsx(ef,{className:"w-4 h-4"}),"Exporter (Excel)"]}),c.jsxs("button",{onClick:lt,className:"flex items-center gap-2 px-3 py-2 bg-gray-600 text-white text-sm rounded-md hover:bg-gray-700 transition-colors",children:[c.jsx(Zd,{className:"w-4 h-4"}),"Imprimer"]})]}),u&&c.jsxs("div",{className:"bg-slate-50 border border-slate-200 rounded-lg p-4 mb-4 animate-fade-in",children:[c.jsx("h3",{className:"text-lg font-semibold text-slate-700 mb-4",children:"Ajouter un nouveau critère"}),v&&c.jsxs("div",{className:"flex items-center gap-2 p-3 mb-4 bg-red-100 text-red-800 border border-red-200 rounded-md text-sm",children:[c.jsx($n,{className:"w-5 h-5 flex-shrink-0"}),c.jsx("span",{children:v})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{htmlFor:"volet",className:"block text-sm font-medium text-slate-600 mb-1",children:"Volet"}),c.jsx("input",{type:"text",name:"volet",id:"volet",value:m.volet||"",onChange:N,className:"w-full p-2 border border-slate-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"})]}),c.jsxs("div",{className:"md:col-span-2",children:[c.jsx("label",{htmlFor:"critere",className:"block text-sm font-medium text-slate-600 mb-1",children:"Critères *"}),c.jsx("textarea",{name:"critere",id:"critere",value:m.critere||"",onChange:N,rows:1,className:"w-full p-2 border border-slate-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"note",className:"block text-sm font-medium text-slate-600 mb-1",children:"Note"}),c.jsx("input",{type:"text",name:"note",id:"note",value:m.note||"",onChange:N,className:"w-full p-2 border border-slate-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"score",className:"block text-sm font-medium text-slate-600 mb-1",children:"Score"}),c.jsx("input",{type:"text",name:"score",id:"score",value:m.score||"",onChange:N,className:"w-full p-2 border border-slate-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"etat",className:"block text-sm font-medium text-slate-600 mb-1",children:"État"}),c.jsx("input",{type:"text",name:"etat",id:"etat",value:m.etat||"",onChange:N,className:"w-full p-2 border border-slate-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"})]}),c.jsxs("div",{className:"md:col-span-3",children:[c.jsx("label",{htmlFor:"constats",className:"block text-sm font-medium text-slate-600 mb-1",children:"Constats"}),c.jsx("textarea",{name:"constats",id:"constats",value:m.constats||"",onChange:N,rows:2,className:"w-full p-2 border border-slate-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"})]}),c.jsxs("div",{className:"md:col-span-3",children:[c.jsx("label",{htmlFor:"action",className:"block text-sm font-medium text-slate-600 mb-1",children:"Action"}),c.jsx("textarea",{name:"action",id:"action",value:m.action||"",onChange:N,rows:2,className:"w-full p-2 border border-slate-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"})]}),c.jsxs("div",{className:"md:col-span-2",children:[c.jsx("label",{htmlFor:"resp",className:"block text-sm font-medium text-slate-600 mb-1",children:"Responsable"}),c.jsx("input",{type:"text",name:"resp",id:"resp",value:m.resp||"",onChange:N,className:"w-full p-2 border border-slate-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"datePrevue",className:"block text-sm font-medium text-slate-600 mb-1",children:"Date Prévue"}),c.jsx("input",{type:"date",name:"datePrevue",id:"datePrevue",value:m.datePrevue||"",onChange:N,className:"w-full p-2 border border-slate-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"})]})]}),c.jsxs("div",{className:"flex justify-end gap-3 mt-4",children:[c.jsx("button",{onClick:b,className:"px-4 py-2 bg-white border border-slate-300 text-slate-700 rounded-md hover:bg-slate-50",children:"Annuler"}),c.jsx("button",{onClick:T,disabled:f,className:"flex items-center justify-center gap-2 px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 disabled:bg-green-400 disabled:cursor-not-allowed w-28",children:f?c.jsxs(c.Fragment,{children:[c.jsx(ti,{className:"w-5 h-5"})," Envoi..."]}):"Envoyer"})]})]}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"w-full min-w-[1200px] border-collapse text-sm",children:[c.jsx("thead",{className:"bg-slate-100 text-slate-600",children:c.jsxs("tr",{children:[c.jsx("th",{className:"p-2 border text-center font-semibold w-[50px]",children:"N°"}),c.jsx("th",{className:"p-2 border text-left font-semibold",children:"Volet"}),c.jsx("th",{className:"p-2 border text-left font-semibold w-1/4",children:"Critères"}),c.jsx("th",{className:"p-2 border text-center font-semibold w-[60px]",children:"Note"}),c.jsx("th",{className:"p-2 border text-center font-semibold w-[60px]",children:"Score"}),c.jsx("th",{className:"p-2 border text-left font-semibold",children:"Constats"}),c.jsx("th",{className:"p-2 border text-left font-semibold",children:"Action"}),c.jsx("th",{className:"p-2 border text-center font-semibold w-[100px]",children:"Resp."}),c.jsx("th",{className:"p-2 border text-center font-semibold w-[110px]",children:"Date Prévue"}),c.jsx("th",{className:"p-2 border text-center font-semibold w-[100px]",children:"État"}),c.jsx("th",{className:"p-2 border text-center font-semibold w-[50px] no-print"})]})}),c.jsx("tbody",{children:e.map((L,$)=>c.jsxs("tr",{className:"hover:bg-slate-50",children:[c.jsx("td",{className:"p-2 border align-top text-center",children:$+1}),c.jsx("td",{className:"p-2 border align-top",children:de(L,"volet")}),c.jsx("td",{className:"p-2 border align-top",children:de(L,"critere")}),c.jsx("td",{className:"p-2 border text-center align-top",children:de(L,"note")}),c.jsx("td",{className:"p-2 border text-center align-top",children:de(L,"score")}),c.jsx("td",{className:"p-2 border align-top",children:de(L,"constats")}),c.jsx("td",{className:"p-2 border align-top",children:de(L,"action")}),c.jsx("td",{className:"p-2 border align-top",children:de(L,"resp")}),c.jsx("td",{className:"p-2 border align-top",children:de(L,"datePrevue")}),c.jsx("td",{className:"p-2 border align-top",children:de(L,"etat")}),c.jsx("td",{className:"p-2 border text-center align-top no-print",children:c.jsx("button",{onClick:()=>K(L.id),className:"text-red-500 hover:text-red-700 p-1",children:c.jsx(Xd,{className:"w-5 h-5"})})})]},L.id))}),c.jsx("tfoot",{children:e.length===0&&!u&&c.jsx("tr",{children:c.jsxs("td",{colSpan:11,className:"text-center p-8 text-slate-500 border",children:[c.jsx("p",{className:"font-semibold",children:"Aucun critère pour cette catégorie."}),c.jsx("p",{className:"text-sm mt-1",children:'Cliquez sur le bouton "+ Créer" pour en ajouter un.'})]})})})]})})]})}function Lv({categories:e,activeTab:t,setActiveTab:r}){return c.jsx("div",{className:"flex flex-wrap items-center gap-2 border-b border-slate-300 pb-3",children:e.map(n=>c.jsx("button",{onClick:()=>r(n),className:`px-4 py-2 text-sm font-semibold rounded-md transition-colors duration-200
            ${t===n?"bg-green-600 text-white shadow":"bg-white text-green-700 hover:bg-green-100 border border-green-600"}
          `,children:n},n))})}const Av=["COMMUNS","PERSONNEL","INSTALLATIONS","LIGNES DE PRODUCTION","UTILITÉS"];function Mv({onNavigate:e}){const[t,r]=M.useState("COMMUNS"),[n,s]=M.useState([]),[i,o]=M.useState(!0),[l,a]=M.useState(null),u=M.useCallback(async()=>{if(o(!0),a(null),st){const{count:d}=await xe.from("checklist_items").select("*",{count:"exact",head:!0});if(d===0){console.log("Seeding checklist items...");const v=Ru.map(S=>({...S,note:String(S.note),score:String(S.score)})),{error:w}=await xe.from("checklist_items").insert(v);if(w){console.error("Erreur lors de l'insertion des items de checklist:",w),a(w),o(!1);return}}const{data:f,error:g}=await xe.from("checklist_items").select("*").eq("category",t).order("created_at");g?(console.error("Erreur de chargement de la checklist:",g),a(g)):s(f)}else{const d=Ru.filter(f=>f.category===t);s(d.map(f=>({...f,id:f.id||`local-${Math.random()}`,created_at:new Date().toISOString()})))}o(!1)},[t]);return M.useEffect(()=>{u()},[u]),c.jsxs(c.Fragment,{children:[c.jsx("header",{className:"bg-white shadow-sm border-b border-slate-200 sticky top-0 z-10 no-print",children:c.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-4 flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-slate-800 tracking-tight uppercase",children:"Checklist SDA FSS"}),c.jsx("p",{className:"text-slate-500 mt-1",children:"Checklist de conformité FSSC 22000 - V00"})]}),c.jsxs("button",{onClick:()=>e("home"),className:"flex items-center gap-2 px-4 py-2 bg-slate-100 text-slate-700 rounded-lg hover:bg-slate-200 transition-colors",children:[c.jsx(Jd,{className:"w-5 h-5"}),c.jsx("span",{children:"Accueil"})]})]})}),c.jsxs("main",{className:"container mx-auto p-4 sm:p-6 lg:p-8",children:[c.jsx("div",{className:"no-print",children:c.jsx(Lv,{categories:Av,activeTab:t,setActiveTab:r})}),c.jsx("div",{className:"mt-6 printable-area",children:i?c.jsx("div",{className:"text-center py-10",children:"Chargement..."}):l?c.jsx(oa,{error:l,onRetry:u}):c.jsx(Tv,{data:n,setData:s,category:t,refetchData:u},t)})]})]})}function Iv(){const[e,t]=M.useState("home"),r=s=>{t(s),window.scrollTo(0,0)},n=()=>{switch(e){case"scenario":return c.jsx(Ov,{onNavigate:r});case"checklist":return c.jsx(Mv,{onNavigate:r});case"home":default:return c.jsx(bv,{onNavigate:r})}};return c.jsx("div",{className:"min-h-screen bg-slate-100 text-slate-800",children:n()})}const Lf=document.getElementById("root");if(!Lf)throw new Error("L'élément racine est introuvable pour le montage");const Rv=io.createRoot(Lf);Rv.render(c.jsx(Ku.StrictMode,{children:c.jsx(Iv,{})}));
